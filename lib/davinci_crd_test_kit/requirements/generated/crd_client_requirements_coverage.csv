Req Set,ID,URL,Requirement,Conformance,Actors,Conditionality,Not Tested Reason,Not Tested Details,Da Vinci CRD Client Test Suite Short ID(s),Da Vinci CRD Client Test Suite Full ID(s)
hl7.fhir.us.davinci-crd_2.0.1,1,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#foundational-requirements,"Future versions of this specification will evolve based on implementer feedback. Therefore, CRD servers and CRD clients MAY mutually agree to support additional hooks, additional card patterns, additional resources, additional extensions, etc. not found in this specification.",MAY,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,2,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#mustsupport,"For CRD clients, If the client maintains the data element and surfaces it to users, then it SHALL be exposed in their FHIR interface when the data exists and privacy constraints permit",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,20,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"If a CRD service exceeds the allocated time window for a hook (i.e., for those circumstances that fall outside the 90% expectation), CRD clients SHOULD establish a time-out process that ensures users are not blocked from proceeding with their business flow.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,21,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"Where a CRD client opts to not block users from proceeding for responses that come back in a period of time shorter than the target time window in this guide (i.e., 5s or 10s), the client must ensure that users are made aware of the information when it is available.",SHALL,Client,true,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,22,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"For responses that come back in a time period that exceeds this duration, [ 5s or 10s] CRD clients MAY ignore the resulting cards and/or system actions.",MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,25,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#terminology,"Where the selected code is not already a billing code and CRD clients are able to automatically determine what the corresponding billing code is, they SHOULD send a Coding with the billing code alongside the clinical code to reduce the risk of the receiving payer making a different translation.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,28,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,Provider and EHR vendor organizations MAY leverage the [payer registry](http://hl7.org/fhir/us/davinci-pdex-plan-net)  developed by PDex (which will eventually fold into the national directory under [FAST](https://confluence.hl7.org/display/FAST/National+Healthcare+Directory)) as a means of determining which endpoints exist for which payers as candidates for configuration.,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,29,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,"Once plans are in the national directory, CRD clients SHOULD include that plan identifier as a way to uniquely identify that plan.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,30,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,All CRD clients will need to be configured to support communicating to a particular CRD server. This configuration process includes the following: … Confirming that the CRD server can legitimately act on behalf of one or more payers,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,31,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,All CRD clients will need to be configured to support communicating to a particular CRD server. This configuration process includes the following: … Confirming that the CRD server can be trusted to receive and handle PHI,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,32,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,All CRD clients will need to be configured to support communicating to a particular CRD server. This configuration process includes the following: ...Determining which hook(s) to enable for that CRD server,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,33,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,All CRD clients will need to be configured to support communicating to a particular CRD server. This configuration process includes the following: … Determining what scopes to provide the CRD server for access tokens issued to the service,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,37,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#crd-access-tokens,The CRD client SHOULD limit the scopes provided in their access token to those identified by the CRD service as necessary to perform their decision support.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,38,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#crd-access-tokens,Such access tokens [identified by the CRD service as necessary to perform their decision support]] SHOULD have an expiration time of no longer than 30 seconds which should be sufficient for even 'parallel' decision support with something like 'Order Select' where a user is continuing to work while the decision support call is processing.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,39,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-data-retrieval,"For this release of the IG, conformant CRD clients SHOULD support the CDS Hooks [prefetch]( https://cds-hooks.hl7.org/2.0/#prefetch-template) capability",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,40,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-data-retrieval,"For this release of the IG, conformant CRD clients ... where needed, SHOULD implement interfaces to [_include](http://hl7.org/fhir/R4/search.html#include) resources not available in the system's database.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,43,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-data-retrieval,"The base requirement for these queries, whether based on Encounter or one of the request resources, is to bring back the following associated resources:

-Patient
-Relevant Coverage
-Authoring Practitioner
-Authoring Organization
-Requested performing Practitioner (if specified)
-Requested performing Organization (if specified)
-Requested Location (if specified)
-Associated Medication (if any)
-Associated Device (if any)",SHALL,Client,,,,2.2,crd_client-crd_client_fhir_api-Group02
hl7.fhir.us.davinci-crd_2.0.1,44,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"In addition to the [base prefetch capabilities](https://cds-hooks.hl7.org/2.0/#prefetch-template) defined in the CDS Hooks specification, systems that support prefetch SHOULD support the [additional prefetch capabilities](https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-prefetch-capabilities) defined in this specification.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,45,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries ... SHOULD be supported for [Appointment]: ... 

```Appointment?_id={{context.appointments.Appointment.id}}
&_include=Appointment:patient
&_include=Appointment:practitioner:PractitionerRole
&_include:iterate=PractitionerRole:organization
&_include:iterate=PractitionerRole:practitioner
&_include=Appointment:location```",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,46,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,standard' prefetch queries... SHOULD be supported for each type of resource: ... Coverage?patient={{context.patient}},SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,47,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries  SHOULD be supported for [Device Request]: ... 

```DeviceRequest?_id={{context.draftOrders.DeviceRequest.id}}
&_include=DeviceRequest:patient
&_include=DeviceRequest:performer
&_include=DeviceRequest:requester
&_include=DeviceRequest:device
&_include:iterate=PractitionerRole:organization
&_include:iterate=PractitionerRole:practitioner```",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,48,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries ... SHOULD be supported for [Encounter]: ...

```Encounter?_id={{context.encounterId}}
&_include=Encounter:patient
&_include=Encounter:service-provider
&_include=Encounter:practitioner
&_include=Encounter:location```",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,49,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries  SHOULD be supported for [MedicationRequest]: ... 

```MedicationRequest?_id={{context.draftOrders.MedicationRequest.id}}
&_include=MedicationRequest:patient
&_include=MedicationRequest:intended-dispenser
&_include=MedicationRequest:requester:PractitionerRole
&_include=MedicationRequest:medication
&_include:iterate=PractitionerRole:organization
&_include:iterate=PractitionerRole:practitioner```",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,50,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries that SHOULD be supported for [NutritionOrder]: ... 

```NutritionOrder?_id={{context.draftOrders.NutritionOrder.id}}
&_include=NutritionOrder:patient
&_include=NutritionOrder:provider
&_include=NutritionOrder:requester
&_include:iterate=PractitionerRole:organization
&_include:iterate=PractitionerRole:practitioner
&_include=NutritionOrder:encounter
&_include:iterate=Encounter:location```",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,51,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries SHOULD be supported for [ServiceRequest]: ...

```ServiceRequest?_id={{context.draftOrders.ServiceRequest.id}}
&_include=ServiceRequest:patient
&_include=ServiceRequest:performer
&_include=ServiceRequest:requester
&_include:iterate=PractitionerRole:organization
&_include:iterate=PractitionerRole:practitioner```",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,52,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,CRD clients MAY support only the resources needed to implement the relevant CDS Hooks and order types.,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,53,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,CRD client implementations SHOULD NOT expect standardized prefetch key names.,SHOULD NOT,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,54,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,CRD clients supporting prefetch SHALL inspect the CDS Hooks discovery endpoint to determine exact prefetch key names and queries.,SHALL,Client,,,,"1.2.1.10, 1.2.2.10, 1.2.3.10, 1.2.4.10, 1.2.5.10, 1.2.6.10","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_prefetch, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_prefetch, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_prefetch, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_prefetch, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_prefetch, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_prefetch"
hl7.fhir.us.davinci-crd_2.0.1,55,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,CRD clients SHOULD limit the coverages provided to just those relevant to the CRD service.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,58,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#query-notes,Conformant CRD clients SHOULD be able to perform [respond to] all the queries defined here [[FHIR Resource Access](https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#fhir-resource-access)],SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,59,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#query-notes,"Conformant CRD clients ... where needed, SHOULD implement interfaces to [_include](http://hl7.org/fhir/R4/search.html#include) resources not available in the client's database.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,61,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#query-notes,"When full prefetch as defined here is not supported, CRD clients SHOULD, at minimum, support the batch query syntax shown [above]( https://build.fhir.org/ig/HL7/davinci-crd/foundation.html#fhir-resource-access)",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,64,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"CRD Clients conforming with this specification [using  SMART on FHIR apps to invoke coverage requirements discovery from CRD servers for ""what if"" scenarios] SHALL support the SMART on FHIR interface,",SHALL,Client,,,,2.1,crd_client-crd_client_fhir_api-Group01
hl7.fhir.us.davinci-crd_2.0.1,65,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"CRD clients conforming with this [using SMART on FHIR apps to invoke coverage requirements discovery from CRD servers for ""what if"" scenarios] specification … SHALL allow launching of SMART apps from within their application",SHALL,Client,,,,2.1,crd_client-crd_client_fhir_api-Group01
hl7.fhir.us.davinci-crd_2.0.1,66,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"CRD clients conforming with this [using SMART on FHIR apps to invoke coverage requirements discovery from CRD servers for ""what if"" scenarios] specification ...   SHALL be capable of providing the SMART app access to information it exposes to CRD servers using the CDS Hooks interface.",SHALL,Client,,,,2.1,crd_client-crd_client_fhir_api-Group01
hl7.fhir.us.davinci-crd_2.0.1,67,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"The app/CRD client MAY choose to use configuration options to control what types of cards are of interest [when using SMART on FHIR apps to invoke coverage requirements discovery from CRD servers for ""what if"" scenarios]",MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,68,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"In the specific case of order-based hooks, ""what if"" SHOULD use the Order Sign hook",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,69,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"In the specific case of order-based hooks, ""what if"" ... SHALL use the configuration option that prevents the return of an unsolicited determination",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,70,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"In the specific case of order-based hooks, ""what if"" ... MAY use configuration options to prevent the return of other irrelevant types of cards (e.g., duplicate therapy).",MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,71,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"When CRD clients pass resources to a CRD server as part of context, the resources SHALL have an ID",SHALL,Client,,,,"1.2.1.09, 1.2.4.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,72,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"When CRD clients pass resources to a CRD server as part of context, the resources ... SHALL be usable as a target for references in resources manipulated by CDS Hook actions and/or by SMART apps.",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,75,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"Therefore, in addition to any logging performed for security purposes, ... CRD Clients ... SHALL retain logs of all CRD-related hook invocations and their responses for access in the event of a dispute.",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,78,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,Organizations SHALL have processes to ensure logs can be accessed by appropriate authorized users to help resolve discrepancies or issues in a timely manner.,SHALL,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,79,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"Because the information in these logs will often contain PHI, access to the logs themselves will need to be restricted ... for security purposes.",SHALL,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,80,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"Because the information in these logs will often contain PHI, access to the logs themselves will need to be ... logged for security purposes.",SHALL,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,81,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,CRD Clients SHOULD ensure that multiple cards with the same “advice” are handled in a way that will not create a burden on the user.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,82,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,Conformance systems SHOULD omit non-significant whitespace for performance reasons.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,83,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: … FHIR Core: [Security & Privacy Module](http://hl7.org/fhir/R4/secpriv-module.html),SHALL,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,84,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: FHIR Core: ... [Security Principles](http://hl7.org/fhir/R4/security.html),SHALL,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,85,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: FHIR Core: ... [Implementer’s Checklist](http://hl7.org/fhir/R4/safety.html),SHALL,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,86,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: … HRex: [Privacy & Security](http://hl7.org/fhir/us/davinci-hrex/STU1/security.html),SHALL,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,87,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: … CDS Hooks: [Security & Safety](https://cds-hooks.hl7.org/2.0/#security-and-safety),SHALL,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,88,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: … SMART on FHIR: [SMART App Launch](http://www.hl7.org/fhir/smart-app-launch),SHALL,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,89,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,"As per the CDS Hook specification, communications between CRD Clients and CRD Servers SHALL use TLS.",SHALL,"Client,Server",,,,2.1,crd_client-crd_client_fhir_api-Group01
hl7.fhir.us.davinci-crd_2.0.1,90,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Mutual TLS is not required by this specification but is permitted.,MAY,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,91,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,CRD Servers and CRD Clients SHOULD enforce a minimum version and other TLS configuration requirements based on [HRex rules for PHI exchange](https://hl7.org/fhir/us/davinci-hrex/STU1/security.html#exchange-of-phi-for-treatment-payment-operations-tpo-as-defined),SHOULD,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,92,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,CRD Clients SHALL support running applications that adhere to the SMART on FHIR [confidential app](http://www.hl7.org/fhir/smart-app-launch#support-for-public-and-confidential-apps) profile.,SHALL,Client,,,,2.1,crd_client-crd_client_fhir_api-Group01
hl7.fhir.us.davinci-crd_2.0.1,95,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,"CRD Clients are the final arbiters of what data can or cannot be shared with CRD Servers and SHOULD filter or withhold any resources or data elements necessary to support their obligations as health data custodians, including ... patient consent-based restrictions.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,96,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,"CRD Clients are the final arbiters of what data can or cannot be shared with CRD Servers and SHOULD filter or withhold any resources or data elements necessary to support their obligations as health data custodians, including legal...restrictions.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,97,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,"CRD Clients are the final arbiters of what data can or cannot be shared with CRD Servers and SHOULD filter or withhold any resources or data elements necessary to support their obligations as health data custodians, including ... policy restrictions.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,98,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,CRD Clients SHALL ensure that the resource identifiers exposed over the CRD interface are distinct from and have no determinable relationship with any business identifiers associated with those records.,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,99,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Access to patient information to meet decision support requirements is still subject to regulations such as HIPAA “minimum necessary” and CRD clients SHOULD audit access to check for reasonableness and appropriateness.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,100,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,All information sharing that occurs through making CRD calls is subject to the privacy and security considerations documented [here](http://hl7.org/fhir/us/davinci-hrex/STU1/security.html),SHALL,"Client,Server",,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,101,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#cds-hook-deviations-and-enhancements,Implementers MAY choose to provide support for this new [[order-dispatch hook](https://cds-hooks.org/hooks/order-dispatch)]] hook.,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,102,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-scope,"This IG adopts the newer wording, meaning that the order-sign hook can be triggered … on newly created orders.",MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,103,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-scope,"This IG adopts the newer wording, meaning that the order-sign hook can be triggered … when orders are updated (changing status, changing time-frame, etc.).",MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,104,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-resources,CRD has use-cases for additional resource types to be passed to … [the `order-select`]  hook. Specifically: … [CommunicationRequest](http://hl7.org/fhir/R4/communicationrequest.html),MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,105,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-resources,CRD has use-cases for additional resource types to be passed to … [the `order-sign`]  hook. Specifically: … [CommunicationRequest](http://hl7.org/fhir/R4/communicationrequest.html),MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,106,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-resources,CRD has use-cases for additional resource types to be passed to [the `order-select`] hook. Specifically: … [Task](http://hl7.org/fhir/R4/task.html),SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,107,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-resources,CRD has use-cases for additional resource types to be passed to [the `order-sign`] hook. Specifically: … [Task](http://hl7.org/fhir/R4/task.html),SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,109,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#new-hook-configuration-mechanism,The hook’s [HTTP Request](https://cds-hooks.hl7.org/2.0/#http-request_1) object will include an extension to pass specific configuration settings as part of the hook invocation,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,125,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,Where CRD Clients support the optional configuration options... CRD Clients SHOULD expose configuration options through a configuration screen to allow users and/or system administrators to control the types of information returned.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,126,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,Where CRD Clients support the optional configuration options  ... CRD Clients SHALL convey configuration options when invoking the hook using the davinci-crd.configuration extension. It will be a single object whose properties will be drawn from the code values from configuration options and whose values will be of the type defined for that option.,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,127,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,"Where CRD Clients support the optional configuration options ... CRD Clients SHOULD provide an ability to leverage the dynamic configuration capabilities of payer services based on provider role, individual provider, and/or hook invocation location as best meets the needs of their users.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,130,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,Because support for some configuration is required for all CRD servers  ... CRD Clients MAY send configuration information that CRD Servers do not support.,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,132,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-prefetch-capabilities,"Specifically, where a hook defines a context element that consists of a resource or collection of resources (e.g. [order-select.draftOrders](https://cds-hooks.hl7.org/hooks/order-select/2020May/order-select.html#context) or [order-sign.draftOrders](https://cds-hooks.hl7.org/hooks/order-sign/2020May/order-sign#context)), systems SHALL recognize context tokens of the form `context.<context property>.<FHIR resource name>.id` in prefetch queries.",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,133,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-prefetch-capabilities,[context tokens of the form `context.<context property>.<FHIR resource name>.id` in prefetch queries] SHALL evaluate to a comma-separated list of the identifiers of all resources of the specified type within that context key.,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,137,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#linkage-between-created-resources,the inclusion of the `id` element in ‘created’ resources and references in created and updated resources within multi-action suggestions SHALL be handled as per [FHIR’s transaction processing rules](http://hl7.org/fhir/R4/http.html#trules).,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,138,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#linkage-between-created-resources,"if a FHIR Reference points to the resource type and `id` of a resource of another ‘create’ Action in the same Suggestion, then the reference to that resource SHALL be updated by the server to point to the `id` assigned by the client when performing the ‘create’.",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,139,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#linkage-between-created-resources,CRD Clients SHALL perform ‘creates’ in an order that ensures that referenced resources are created prior to referencing resources.,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,142,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#controlling-hook-invocation,Provider systems SHALL only invoke hooks on payer services where the patient record indicates active coverage with the payer associated with the service,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,143,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#controlling-hook-invocation,Providers MAY limit hook invocation to only those payers that are believed to potentially have relevant information related to the current action,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,144,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#controlling-hook-invocation,CRD clients SHALL select from those coverages which is most likely to be primary and only solicit coverage information for that one payer.,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,145,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#controlling-hook-invocation,"If they invoke CRD on other payers, CRD clients SHALL ensure that card types that return coverage information are disabled for those ‘likely secondary’ payers.",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,146,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#controlling-hook-invocation,"Where the patient has multiple active coverages that the CRD client deems appropriate to call the respective CRD servers for, the CRD client SHALL invoke all CRD server calls in parallel and display results simultaneously to ensure timely response to user action.",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,147,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,the `order-select` hook SHOULD fire whenever a user of a CRD Client creates a new order or referral.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,148,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"CRD Clients conforming to this implementation guide SHALL be able to determine the correct payer CRD Service to use for each request. [appointment-book, encounter-start, encounter-discharge, order-dispatch, order-select, and order-sign]",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,149,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"CRD Clients conforming to this implementation guide SHALL support at least one of the hooks [appointment-book, encounter-start, encounter-discharge, order-dispatch, order-select, and order-sign]",SHALL,Client,,,,1.2,crd_client-crd_client_hook_invocation-crd_client_hooks
hl7.fhir.us.davinci-crd_2.0.1,150,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"CRD Clients conforming to this implementation guide SHALL support ... (for order-centric hooks), at least one of the order resource types [CommunicationRequest, DeviceRequest, MedicationRequest, ServiceRequest, NutritionOrder, VisionPrescription]",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09, 2.2.2, 2.2.5, 2.2.11, 2.2.12, 2.2.14, 2.2.17","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context, crd_client-crd_client_fhir_api-Group02-Group02, crd_client-crd_client_fhir_api-Group02-Group05, crd_client-crd_client_fhir_api-Group02-Group11, crd_client-crd_client_fhir_api-Group02-Group12, crd_client-crd_client_fhir_api-Group02-Group14, crd_client-crd_client_fhir_api-Group02-Group17"
hl7.fhir.us.davinci-crd_2.0.1,151,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"CRD Clients conforming to this implementation guide ... SHOULD support all [CommunicationRequest, DeviceRequest, MedicationRequest, ServiceRequest, NutritionOrder, VisionPrescription] that apply to the context of their system.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,154,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,CRD Clients … MAY choose to support additional hooks available in the registry on the [CDS Hooks continuous integration build](https://cds-hooks.org/) or custom hooks defined elsewhere.,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,156,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,[Clients who choose to support additional hooks] SHOULD adhere to the conformance expectations defined in this specification for any hooks listed here.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,166,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#hook-categories,(CRD clients SHOULD use the configuration options to instruct CRD servers to not even try to return cards if they do not intend to display/process them.),SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,171,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,[Clients SHALL support] version 1.0 of the [[appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/)] hook.,SHALL,Client,,,,1.2.1.02,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_appointment_book_request
hl7.fhir.us.davinci-crd_2.0.1,172,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,"This [appointment-book] hook would be triggered when the user of a CRD Client books a future appointment for a patient with themselves, with someone else within their organization, or with another organization. (Note that whether the CRD Client will create an appointment - triggering the `appointment-book` hook - or a ServiceRequest - triggering an `order-select` or `order-sign` hook - can vary depending on the service being booked and the organizations involved.)",SHALL,Client,,,,1.2.1,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book
hl7.fhir.us.davinci-crd_2.0.1,177,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,[For the appointment-book hook t]he profiles expected to be used for the resources resolved to by the userId … are … [profile-practitioner](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-practitioner.html) [or] [us-core-practitionerrole](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-practitionerrole.html),SHALL,Client,,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,178,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,[For the appointment-book hook t]he profiles expected to be used for the resources resolved to by the … patientId … are … [profile-patient](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-patient.html),SHALL,Client,,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,179,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,[For the appointment-book hook t]he profiles expected to be used for the resources resolved to by the … encounterId … are … [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html),SHALL,Client,,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,180,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,<html>[For the appointment-book hook t]he profiles expected to be used for the resources resolved to by the … `appointments` … are …<b> </b>[profile-appointment](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-appointment.html)</html>,SHALL,Client,,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,183,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,"CRD clients... SHALL, at minimum, support ... processing the [Coverage Information](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-ext-coverage-information.html) system action for all invocations of this [[appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/)]  hook.",SHALL,Client,,,,1.2.1.02,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_appointment_book_request
hl7.fhir.us.davinci-crd_2.0.1,186,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,[Clients SHALL support] version 1.0 of the [[encounter-start](https://cds-hooks.hl7.org/hooks/encounter-start/2023SepSTU1Ballot/encounter-start/)] Hook [([published v1.0 link](https://cds-hooks.hl7.org/hooks/encounter-start/STU1/encounter-start/))],SHALL,Client,,,,1.2.2.02,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_encounter_start_request
hl7.fhir.us.davinci-crd_2.0.1,187,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,"This  [[encounter-start](https://cds-hooks.hl7.org/hooks/encounter-start/STU1/encounter-start/)] hook would be triggered when a patient is admitted, a patient arrives for an out-patient visit, and/or when a provider first engages with a patient during an encounter.",SHALL,Client,,,,1.2.2,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start
hl7.fhir.us.davinci-crd_2.0.1,192,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,[For the enounter-start hook t]he profiles expected to be used for the resources resolved to by the userId … are … [profile-practitioner](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-practitioner.html) [or] [us-core-practitionerrole](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-practitionerrole.html),SHALL,Client,,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,193,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,[For the enounter-start hook t]he profiles expected to be used for the resources resolved to by the … patientId … are … [profile-patient](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-patient.html),SHALL,Client,,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,194,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,[For the enounter-start hook t]he profiles expected to be used for the resources resolved to by the … encounterId … are … [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html),SHALL,Client,,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,197,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,[Clients SHALL support] version 1.0 of the [[encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/2023SepSTU1Ballot/encounter-discharge/)] Hook  [([published v1.0 link](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/))],SHALL,Client,,,,1.2.3.02,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_encounter_discharge_request
hl7.fhir.us.davinci-crd_2.0.1,199,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,"[In response to an [encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/) hook call, [clients should v]erify that documentation requirements for the services performed have been met to ensure the services provided can be reimbursed",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,200,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,"[In response to an [encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/) hook call, [clients should e]nsure that required follow-up planning is complete and appropriate transfer of care has been arranged, particularly for accountable care models",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,201,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,[for the [encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/) hook t]he profiles expected to be used for the resources resolved to by the userId … are … [profile-practitioner](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-practitioner.html) [or] [us-core-practitionerrole](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-practitionerrole.html),SHALL,Client,,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,202,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,[for the [encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/) hook t]he profiles expected to be used for the resources resolved to by the … patientId … are … [profile-patient](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-patient.html),SHALL,Client,,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,203,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,[for the [encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/) hook t]he profiles expected to be used for the resources resolved to by the … encounterId … are … [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html),SHALL,Client,,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,205,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-dispatch,[Clients SHALL support] version 1.0 of the [[order-dispatch](https://cds-hooks.hl7.org/hooks/order-dispatch/2023SepSTU1Ballot/order-dispatch/)] Hook   [([published v1.0 link](https://cds-hooks.hl7.org/hooks/order-dispatch/STU1/order-dispatch/))],SHALL,Client,,,,1.2.5.02,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_order_dispatch_request
hl7.fhir.us.davinci-crd_2.0.1,207,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-dispatch,"CRD clients and servers SHALL, at minimum, support returning and processing the [Coverage Information](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-ext-coverage-information.html) system action for all invocations of this [[order-dispatch](order-dispatch](https://cds-hooks.hl7.org/hooks/order-dispatch/STU1/order-dispatch/)] hook",SHALL,"Client,Server",,,,1.2.5.02,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_order_dispatch_request
hl7.fhir.us.davinci-crd_2.0.1,209,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,[Clients SHALL support] version 1.0 of the [[order-select](https://cds-hooks.hl7.org/hooks/order-select/2023SepSTU1Ballot/order-select/)] Hook [([published v1.0 link](https://cds-hooks.hl7.org/hooks/order-select.html))],SHALL,Client,,,,1.2.4.02,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_order_select_request
hl7.fhir.us.davinci-crd_2.0.1,212,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,[For the [order-select](https://cds-hooks.hl7.org/hooks/order-select.html) hook] the profiles expected to be used for the resources resolved to by the `patientId` [are] [profile-patient](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-patient.html),SHALL,Client,,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,213,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,[For the [order-select](https://cds-hooks.hl7.org/hooks/order-select.html) hook] the profiles expected to be used for the resources resolved to by the … `encounterId` [are] [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html),SHALL,Client,,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,214,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,"[for the [order-select](https://cds-hooks.hl7.org/hooks/order-select.html) hook] The profiles expected to be used for the resources resolved to by the ... `draftOrders` context element [are] [profile-devicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-devicerequest.html), [profile-medicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-medicationrequest.html), [profile-nutritionorder](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-nutritionorder.html), [profile-visionprescription](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-visionprescription.html), [and] [profile-servicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-servicerequest.html)",SHALL,Client,,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,215,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,"While this [order-select](https://cds-hooks.hl7.org/hooks/order-select.html)] hook does not explicitly list PractitionerRole [([us-core-practitionerrole](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-practitionerrole.html)) in addition to  [profile-practitioner](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-practitioner.html)] as an expected resource type for userId, it is not prohibited and is included to allow linking the user to a Practitioner in a specific role acting on behalf of a specific Organization.",SHALL,Client,,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,216,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,This [[order-select](https://cds-hooks.hl7.org/hooks/order-select.html)] hook MAY be used in scenarios that don’t involve creating a true order,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,218,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,[Clients SHALL support] version 1.1 of the [[order-sign](https://cds-hooks.org/hooks/order-sign/2020May/order-sign)] Hook [([published v1.0 link (v1.1.0 in the change log)](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html))],SHALL,Client,,,,1.2.6.02,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_order_sign_request
hl7.fhir.us.davinci-crd_2.0.1,220,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,Use and profiles for [order-select](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select) also apply to `order-sign` [([link](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)) including: the profiles expected to be used for the resources resolved to by the `patientId`are [profile-patient](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-patient.html)],SHALL,Client,,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,221,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,Use and profiles for [order-select](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select) also apply to `order-sign` [([link](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)) including: the profiles expected to be used for the resources resolved to by the … `encounterId` are [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html)],SHALL,Client,,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,222,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,"Use and profiles for [order-select](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select) also apply to `order-sign` [([link](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)) including: The profiles expected to be used for the resources resolved to by the ... `draftOrders` context element [are] [profile-devicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-devicerequest.html), [profile-medicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-medicationrequest.html), [profile-nutritionorder](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-nutritionorder.html), [profile-visionprescription](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-visionprescription.html),  [profile-servicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-servicerequest.html)]",SHALL,Client,,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,223,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,"Use and profiles for [order-select](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select) also apply to `order-sign` [([link](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)) including: while this hook does not explicitly list PractitionerRole [([us-core-practitionerrole](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-practitionerrole.html)) in addition to  [profile-practitioner](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-practitioner.html)] as an expected resource type for userId, it is not prohibited and is included to allow linking the user to a Practitioner in a specific role acting on behalf of a specific Organization.]",SHALL,Client,,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
hl7.fhir.us.davinci-crd_2.0.1,225,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,"CRD clients ... SHALL, at minimum, support … processing the Coverage Information system action for all invocations of this [[order-sign hook](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)] hook.",SHALL,Client,,,,1.2.6.02,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_order_sign_request
hl7.fhir.us.davinci-crd_2.0.1,242,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,It is the responsibility of the CRD Client to determine how best to present the results of the newly created or revised records.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,243,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"conformant CRD Clients SHALL support the [External Reference](https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#external-reference), … response",SHALL,Client,,,,"1.2.1.02, 1.2.2.02, 1.2.3.02, 1.2.4.02, 1.2.5.02, 1.2.6.02","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_appointment_book_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_encounter_start_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_encounter_discharge_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_order_select_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_order_dispatch_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_order_sign_request"
hl7.fhir.us.davinci-crd_2.0.1,244,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"conformant CRD Clients SHALL support the ... [Instructions](https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#instructions), … response",SHALL,Client,,,,"1.2.1.02, 1.2.2.02, 1.2.3.02, 1.2.4.02, 1.2.5.02, 1.2.6.02","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_appointment_book_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_encounter_start_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_encounter_discharge_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_order_select_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_order_dispatch_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_order_sign_request"
hl7.fhir.us.davinci-crd_2.0.1,245,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,conformant CRD Clients SHALL support the... [Coverage Information](https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information) response,SHALL,Client,,,,"1.2.1.02, 1.2.2.02, 1.2.3.02, 1.2.4.02, 1.2.5.02, 1.2.6.02","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_appointment_book_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_encounter_start_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_encounter_discharge_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_order_select_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_order_dispatch_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_order_sign_request"
hl7.fhir.us.davinci-crd_2.0.1,246,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,conformant CRD Clients... SHOULD support the remaining types [of [Responses](https://cds-hooks.hl7.org/2.0/#cds-service-response)].,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,251,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,[A]cceptance of decision support cards outside the coverage and documentation requirements space is optional (for both server and client).,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,255,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"When a Coverage Information card type indicating that additional clinical documentation is needed and the CRD client supports DTR, CRD Clients SHALL ensure that clinical users have an opportunity to launch the DTR app as part of the current workflow.",SHALL,Client,true,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,256,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"Where a Coverage Information indicates that additional administrative documentation is needed, CRD Clients SHOULD allow clinical users to have an opportunity to launch the DTR app",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,257,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"Where a Coverage Information indicates that additional administrative documentation is needed, CRD Clients ... SHOULD make it clear that the information to be captured is non-clinical.",SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,263,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"If a CRD client submits a claim related to an order for which it has received a coverage-information extension for the coverage type associated with the claim, that claim SHALL include the `coverage-assertion-id` and, if applicable, the `satisfied-pa-id` in the X12 837 K3 segment.",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,266,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,Systems MAY fire calls related to orders even if there is already a coverage assertion recorded on the order.,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,278,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"CRD clients... SHALL support the new CDS Hooks system action functionality to cause annotations to automatically be stored on the relevant request, appointment, etc. without any user intervention.",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,280,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"In this case, [Where CRD clients and services  support the new CDS Hooks system action functionality to cause annotations to automatically be stored on the relevant request, appointment, etc.] the discrete information propagated into the order extension SHALL be available to the user for viewing",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,281,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,CRD clients MAY be configured to not execute system actions under some circumstances - e.g. if the order has been cancelled/abandoned.,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,284,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed orders (and any associated resources) SHALL comply with the [profile-device](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-device.html) profile",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,285,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [device] orders (and any associated resources) SHALL comply with the [profile-devicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-devicerequest.html)  profile",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,286,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [encounter] orders (and any associated resources) SHALL comply with the [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html) profile",SHALL,Client,,,,"1.2.1.09, 1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,287,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [medication] orders (and any associated resources) SHALL comply with the [profile-medicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-medicationrequest.html) profile [and referenced Medications SHALL comply with the [us-core-medication](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-medication.html) profile.]",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,288,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [nutrition] orders (and any associated resources) SHALL comply with the [profile-nutritionorder](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-nutritionorder.html)  profile",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,289,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [service] orders (and any associated resources) SHALL comply with the [profile-servicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-servicerequest.html)  profile",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,290,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [vision] orders (and any associated resources) SHALL comply with the [profile-visionprescription](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-visionprescription.html) profile",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,291,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#identify-additional-orders-as-companionsprerequisites-for-current-order,"When using this [Identify additional orders as companions/prerequisites for current order] response type, the proposed [communication] orders (and any associated resources) SHALL comply with the [profile-communicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-communicationrequest.html) profile",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,292,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#identify-additional-orders-as-companionsprerequisites-for-current-order,"When using this [Identify additional orders as companions/prerequisites for current order] response type, the proposed orders (and any associated resources) SHALL comply with the [profile-devicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-devicerequest.html)  profile [and referenced devices SHALL comply with the [profile-device](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-device.html) profile]",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,293,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#identify-additional-orders-as-companionsprerequisites-for-current-order,"When using this [Identify additional orders as companions/prerequisites for current order] response type, the proposed orders (and any associated resources) SHALL comply with the [profile-medicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-medicationrequest.html) profile [and referenced medications SHALL comply with the [us-core-medication](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-medication.html) profile]",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,294,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#identify-additional-orders-as-companionsprerequisites-for-current-order,"When using this [Identify additional orders as companions/prerequisites for current order] response type, the proposed [service] orders (and any associated resources) SHALL comply with the [profile-servicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-servicerequest.html)  profile",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,295,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#identify-additional-orders-as-companionsprerequisites-for-current-order,"When using this [Identify additional orders as companions/prerequisites for current order] response type, the proposed [vision] orders (and any associated resources) SHALL comply with the [profile-visionprescription](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-visionprescription.html) profile",SHALL,Client,,,,"1.2.4.09, 1.2.5.09, 1.2.6.09","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context"
hl7.fhir.us.davinci-crd_2.0.1,297,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#request-form-completion,CRD clients supporting this [Request form completion] card type  SHALL support either approach [Card or systemAction],SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,301,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#request-form-completion,[for the Request form completion response type] CRD Clients SHOULD retain a copy of all completed forms for future reference.,SHOULD,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,303,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#create-or-update-coverage-information,CRD clients supporting this [Create or update coverage information] card type  SHALL support either approach [Card or systemAction],SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,304,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#create-or-update-coverage-information,"[for the Create or update coverage information response type] If receiving a system action, a CRD client MAY opt to place the new or updated record in a holding area for human review rather than directly modifying their source of truth.",MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,307,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#launch-smart-application,This [Launch SMART application] response type can cause the launching of ... [SMART] apps to occur in the context in which they are relevant to patient care and/or to payment-related decision-making,MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,308,https://hl7.org/fhir/us/davinci-crd/STU2/implementation.html#suppressing-guidance,"Clients that [suppress certain types of payer guidance as being the ‘default’ presumption. E.g. “Covered, no prior authorization required”] … SHALL mitigate this potential for misinterpretation.",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,311,https://hl7.org/fhir/us/davinci-crd/STU2/implementation.html#impact-on-payer-processes,"In situations where CRD Clients are aware of the likely billing codes at the time of ordering, they MAY send these codes as additional CodeableConcept.coding repetitions to assist in server processing.",MAY,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,312,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,the CRD Client SHALL support all ‘SHOULD’ ‘read’ and ‘search’ capabilities listed below for resources referenced in supported hooks and order types if it does not support returning the associated resources as part of CDS Hooks pre-fetch.,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,313,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html#mode1,Implementations SHALL meet the general security requirements documented in the [HRex implementation guide](http://hl7.org/fhir/us/davinci-hrex/STU1/security.html),SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,314,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,[CRD Clients SHALL also implement the US Core Server Capability Statement imported by this CapabilityStatement],SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,315,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,The CRD Client SHALL also support ‘update’ functionality for [the Appointment resource type when] the client allows invoking [the appointment-book hook].,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,316,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,The CRD Client SHALL also support ‘update’ functionality for [the Encounter resource type when] the client allows invoking [the encounter-start or encounter-discharge hook].,SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,317,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the CommunicationRequest resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,318,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the DeviceRequest resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,319,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the MedicationRequest resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,320,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the NutritionOrder resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,321,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the ServiceRequest resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,"",""
hl7.fhir.us.davinci-crd_2.0.1,322,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the VisionPrescription resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,"",""
cds-hooks_2.0,1,https://cds-hooks.hl7.org/2.0/#use-of-json,All data exchanged through production RESTful APIs MUST be sent and received as JSON (JavaScript Object Notation) structures.,SHALL,"Client,Service",,,,"1.2.1.07, 1.2.1.08, 1.2.2.07, 1.2.2.08, 1.2.3.07, 1.2.3.08, 1.2.4.07, 1.2.4.08, 1.2.5.07, 1.2.5.08, 1.2.6.07, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,2,https://cds-hooks.hl7.org/2.0/#use-of-json,All data exchanged through production RESTful APIs MUST be ... transmitted over HTTPS,SHALL,"Client,Service",,,,"",""
cds-hooks_2.0,3,https://cds-hooks.hl7.org/2.0/#use-of-json,"JSON elements SHALL NOT be null … [or] empty, unless otherwise specified (e.g. to indicate no guidance with an empty array of cards in the CDS Hooks response).",SHALL NOT,"Client,Service",,,,"1.2.1.08, 1.2.2.08, 1.2.3.08, 1.2.4.08, 1.2.5.08, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,15,https://cds-hooks.hl7.org/2.0/#http-request_1,A CDS Client SHALL call a CDS Service by POSTing a JSON document to the service,SHALL,Client,,,,"1.2.1.02, 1.2.2.02, 1.2.3.02, 1.2.4.02, 1.2.5.02, 1.2.6.02","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_appointment_book_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_encounter_start_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_encounter_discharge_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_order_select_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_order_dispatch_request, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_order_sign_request"
cds-hooks_2.0,17,https://cds-hooks.hl7.org/2.0/#http-request_1,"CDS Clients may add additional requirements for the triggering of a hook, based upon the user, workflow, CDS Service or other reasons (e.g. if the service is provided by a payer, the patient has active coverage with that payer).",MAY,Client,,,,"",""
cds-hooks_2.0,18,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: hook
- optionality: REQUIRED
- type: string
- description: The hook that triggered this CDS Service call.",SHALL,Client,,,,"1.2.1.07, 1.2.2.07, 1.2.3.07, 1.2.4.07, 1.2.5.07, 1.2.6.07","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_required_fields"
cds-hooks_2.0,19,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: hookInstance
- optionality: REQUIRED
- type: string
- description: 	A universally unique identifier (UUID) for this particular hook call",SHALL,Client,,,,"1.2.1.07, 1.2.2.07, 1.2.3.07, 1.2.4.07, 1.2.5.07, 1.2.6.07","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_required_fields"
cds-hooks_2.0,20,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: fhirServer
- optionality: CONDITIONAL
- type: URL
- description: The base URL of the CDS Client's FHIR server. If fhirAuthorization is provided, this field is REQUIRED. The scheme MUST be https when production data is exchanged.",SHALL,Client,true,,,"1.2.1.07, 1.2.1.08, 1.2.2.07, 1.2.2.08, 1.2.3.07, 1.2.3.08, 1.2.4.07, 1.2.4.08, 1.2.5.07, 1.2.5.08, 1.2.6.07, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,21,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: fhirAuthorization
- optionality: OPTIONAL
- type: object
- description: A structure holding an OAuth 2.0 bearer access token granting the CDS Service access to FHIR resources, along with supplemental information relating to the token.",MAY,Client,,,,"1.2.1.08, 1.2.2.08, 1.2.3.08, 1.2.4.08, 1.2.5.08, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,22,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: context
- optionality: REQUIRED
- type: object
- description: Hook-specific contextual data that the CDS service will need. For example, with the patient-view hook this will include the FHIR id of the Patient being viewed",SHALL,Client,,,,"1.2.1.07, 1.2.2.07, 1.2.3.07, 1.2.4.07, 1.2.5.07, 1.2.6.07","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_required_fields"
cds-hooks_2.0,23,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: prefetch
- optionality: OPTIONAL
- type: object
- description: The FHIR data that was prefetched by the CDS Client",MAY,Client,,,,"1.2.1.08, 1.2.2.08, 1.2.3.08, 1.2.4.08, 1.2.5.08, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,25,https://cds-hooks.hl7.org/2.0/#hookinstance,the hookInstance is globally unique,SHALL,Client,,,,"1.2.1.07, 1.2.2.07, 1.2.3.07, 1.2.4.07, 1.2.5.07, 1.2.6.07","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_required_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_required_fields"
cds-hooks_2.0,26,https://cds-hooks.hl7.org/2.0/#hookinstance,the hookInstance ... should contain enough entropy to be un-guessable.,SHOULD,Client,,,,"",""
cds-hooks_2.0,30,https://cds-hooks.hl7.org/2.0/#providing-fhir-resources-to-a-cds-service,"The [prefetched] FHIR resources are passed as key-value pairs, with each key matching a key described in the discovery response, and each value being a FHIR resource. Note that in the case of searches, this resource may be a searchset Bundle.",SHALL,Client,true,,,"1.2.1.10, 1.2.2.10, 1.2.3.10, 1.2.4.10, 1.2.5.10, 1.2.6.10","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_prefetch, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_prefetch, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_prefetch, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_prefetch, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_prefetch, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_prefetch"
cds-hooks_2.0,32,https://cds-hooks.hl7.org/2.0/#providing-fhir-resources-to-a-cds-service,"Some CDS Clients MAY pass prefetched data, along with a bearer token for the CDS Service to use if additional resources are required.",MAY,Client,false,,,"",""
cds-hooks_2.0,35,https://cds-hooks.hl7.org/2.0/#prefetch-template,"To allow for prefetch templates that are dependent on the workflow context, prefetch templates may include references to context using prefetch tokens.",MAY,"Client,Service",false,,,"",""
cds-hooks_2.0,37,https://cds-hooks.hl7.org/2.0/#prefetch-template,"CDS Client MAY choose to honor zero, some, or all of the desired prefetch templates",MAY,Client,false,,,"",""
cds-hooks_2.0,38,https://cds-hooks.hl7.org/2.0/#prefetch-template,A CDS Client MAY ... choose the most appropriate source for … [its prefetch] data,MAY,Client,false,,,"",""
cds-hooks_2.0,39,https://cds-hooks.hl7.org/2.0/#prefetch-template,"[To avoid a network call,] the CDS Client MAY ... [use] prefetched data already in memory",MAY,Client,false,,,"",""
cds-hooks_2.0,40,https://cds-hooks.hl7.org/2.0/#prefetch-template,"[To minimize the number of calls,] the CDS Client MAY compute an efficient set of prefetch templates from multiple CDS Services",MAY,Client,false,,,"",""
cds-hooks_2.0,41,https://cds-hooks.hl7.org/2.0/#prefetch-template,The CDS Client MAY satisfy some of the desired prefetched templates via some internal service or even its own FHIR server.,MAY,Client,false,,,"",""
cds-hooks_2.0,42,https://cds-hooks.hl7.org/2.0/#prefetch-template,"[When providing prefetched data, t]he CDS Client SHALL only provide access to resources that are within the user's authorized scope.",SHALL,Client,false,,,"",""
cds-hooks_2.0,43,https://cds-hooks.hl7.org/2.0/#prefetch-template,The relative URL [constructed when a CDS client processes prefetch templates] may be appended to the base URL for the CDS Client's FHIR server and directly invoked,MAY,Client,false,,,"",""
cds-hooks_2.0,44,https://cds-hooks.hl7.org/2.0/#prefetch-template,CDS Clients may use internal infrastructure to satisfy the [prefetch] request in the same way that invoking against the FHIR server would.,MAY,Client,false,,,"",""
cds-hooks_2.0,45,https://cds-hooks.hl7.org/2.0/#prefetch-template,the prefetched data given to the CDS Service MUST be equivalent to the data the CDS Service would receive if it were making its own call to the CDS Client's FHIR server using the parameterized prefetch template.,SHALL,Client,false,,,"",""
cds-hooks_2.0,46,https://cds-hooks.hl7.org/2.0/#prefetch-template,Prefetch data for other services registered to the same hook MUST NOT be provided [to a CDS service that has not requested or is not authorized to receive it],SHALL NOT,Client,false,,,"",""
cds-hooks_2.0,47,https://cds-hooks.hl7.org/2.0/#prefetch-template,[CDS] services SHALL only receive the data they requested in their prefetch.,SHALL,Client,false,,,"",""
cds-hooks_2.0,48,https://cds-hooks.hl7.org/2.0/#prefetch-template,CDS Client MAY paginate prefetch results,MAY,Client,false,,,"",""
cds-hooks_2.0,49,https://cds-hooks.hl7.org/2.0/#prefetch-template,The CDS Client MUST NOT send any prefetch template key that it chooses not to satisfy.,SHALL NOT,Client,false,,,"",""
cds-hooks_2.0,50,https://cds-hooks.hl7.org/2.0/#prefetch-template,"If the CDS Client encounters errors prefetching the requested data, OperationOutcome(s) SHOULD be used to communicate those errors",SHOULD,Client,true,,,"",""
cds-hooks_2.0,51,https://cds-hooks.hl7.org/2.0/#prefetch-template,CDS Clients MUST omit the prefetch key if relevant details cannot be provided (e.g. intermittent connectivity issues),SHALL,Client,false,,,"",""
cds-hooks_2.0,53,https://cds-hooks.hl7.org/2.0/#prefetch-template,"If the CDS Client has no data to populate a template prefetch key, the prefetch template key MUST have a value of null.",SHALL,Client,true,,,"",""
cds-hooks_2.0,63,https://cds-hooks.hl7.org/2.0/#fhir-resource-access,"[When executing a CDS request on behalf of a user,] the data to which the CDS Service is given access by the CDS Client MUST be limited to the same restrictions and authorizations afforded the current user.",SHALL,Client,true,,,"",""
cds-hooks_2.0,64,https://cds-hooks.hl7.org/2.0/#fhir-resource-access,"[When executing a CDS request on behalf of a user,] the access token SHALL be scoped to: The CDS Service being invoked [and] the current user",SHALL,Client,true,,,"",""
cds-hooks_2.0,65,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"If the CDS Client chooses not to pass along an access token, the fhirAuthorization parameter [SHALL be] … omitted.",SHALL,Client,true,,,"1.2.1.08, 1.2.2.08, 1.2.3.08, 1.2.4.08, 1.2.5.08, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,66,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter, the]  access_token field [SHALL be populated with] the [Oauth 2.0](https://oauth.net/2/) access token [as a] string data type",SHALL,Client,true,,,"1.2.1.08, 1.2.2.08, 1.2.3.08, 1.2.4.08, 1.2.5.08, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,67,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter, the]  token_type field [SHALL be populated with the] fixed value: 'Bearer'",SHALL,Client,true,,,"1.2.1.08, 1.2.2.08, 1.2.3.08, 1.2.4.08, 1.2.5.08, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,68,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter, the]  expires_in field [SHALL be populated with the] the lifetime in seconds of the access token [as an] integer data type",SHALL,Client,true,,,"1.2.1.08, 1.2.2.08, 1.2.3.08, 1.2.4.08, 1.2.5.08, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,69,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter, the]  scope field [SHALL be populated with the] the scopes the access token grants the CDS Service [as a] string data type",SHALL,Client,true,,,"1.2.1.08, 1.2.2.08, 1.2.3.08, 1.2.4.08, 1.2.5.08, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,70,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter, the]  subject field [SHALL be populated with] the [Oauth 2.0](https://oauth.net/2/) client identifier of the CDS Service, as registered with the CDS Client's authorization server [as a] string data type",SHALL,Client,true,,,"1.2.1.08, 1.2.2.08, 1.2.3.08, 1.2.4.08, 1.2.5.08, 1.2.6.08","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_optional_fields, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_optional_fields"
cds-hooks_2.0,71,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter and] the access token is restricted to a specific patient, [the]  patient field  SHOULD be populated to identify the FHIR id of that patient [as a] string data type",SHOULD,Client,true,,,"",""
cds-hooks_2.0,72,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,The `expires_in` value is established by the authorization server and SHOULD BE very short lived,SHOULD,Client,false,,,"",""
cds-hooks_2.0,73,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,CDS Clients SHOULD revoke an issued access token upon the completion of the CDS Hooks request/response to limit the validity period of the token.,SHOULD,Client,true,,,"",""
cds-hooks_2.0,79,https://cds-hooks.hl7.org/2.0/#card-attributes,[When receiving a card object] the uuid field SHALL be included in any subsequent calls to the CDS service's feedback endpoint.,SHALL,Client,true,,,"",""
cds-hooks_2.0,86,https://cds-hooks.hl7.org/2.0/#card-attributes,"For non-urgent cards, the CDS Client MAY hide [the information from the detail field] until the user clicks a link like ""view more details.",MAY,Client,true,,,"",""
cds-hooks_2.0,91,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When receiving a card object,]  the source field [/ source object] should be the primary source of guidance for the decision support the card represents.",SHOULD,Client,true,,,"",""
cds-hooks_2.0,97,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When receiving a card object,] CDS Clients that do not understand the value [in the selectionBehavior field] MUST treat the card as an error.",SHALL,Client,true,,,"",""
cds-hooks_2.0,101,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When receiving a card object,]  if override reasons are present … the CDS Client SHOULD present these reasons to the clinician when they dismiss a card.",SHOULD,Client,true,,,"",""
cds-hooks_2.0,102,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When receiving a card object,]  if override reasons are present … a CDS Client MAY augment the override reasons presented to the user with its own reasons.",MAY,Client,true,,,"",""
cds-hooks_2.0,114,https://cds-hooks.hl7.org/2.0/#source,"[When receiving a Source object,] the CDS Client may ignore or scale the image during display as appropriate for user experience.",MAY,Client,true,,,"",""
cds-hooks_2.0,125,https://cds-hooks.hl7.org/2.0/#suggestion,"Within a suggestion, all actions … [SHALL use] AND [logic], such that a user selecting a suggestion selects all of the actions within it.",SHALL,"Client,Service",true,,,"",""
cds-hooks_2.0,126,https://cds-hooks.hl7.org/2.0/#suggestion,"[When receiving a Suggestion object,] When a suggestion contains multiple actions, the actions SHOULD be processed as per FHIR's rules for processing [transactions](https://hl7.org/fhir/http.html#trules) with the CDS Client's fhirServer as the base url for the inferred full URL of the transaction bundle entries. (Specifically, deletes happen first, then creates, then updates).",SHOULD,Client,true,,,"",""
cds-hooks_2.0,137,https://cds-hooks.hl7.org/2.0/#reasons-for-rejecting-a-card,CDS Clients MAY incorporate [the card.overrideReason.display] into their user interface,MAY,Client,false,,,"",""
cds-hooks_2.0,143,https://cds-hooks.hl7.org/2.0/#link,"[When receiving a Link object and the link.type field is smart,] CDS Client should ensure the SMART app launch URL is populated with the appropriate SMART launch parameters.",SHOULD,Client,true,,,"",""
cds-hooks_2.0,149,https://cds-hooks.hl7.org/2.0/#feedback,a CDS Client SHOULD be capable of sending feedback [to send suggestion analytics to the CDS service],SHOULD,Client,false,,,"",""
cds-hooks_2.0,150,https://cds-hooks.hl7.org/2.0/#feedback,CDS Clients should report ... end-user interactions as feedback.,SHOULD,Client,false,,,"",""
cds-hooks_2.0,151,https://cds-hooks.hl7.org/2.0/#feedback,A CDS Client provides feedback by POSTing a JSON document,SHALL,Client,false,,,"",""
cds-hooks_2.0,152,https://cds-hooks.hl7.org/2.0/#feedback,"The [service's] feedback endpoint can ([SHALL]) be constructed from the CDS Service endpoint and a path segment of ""feedback"" as {baseUrl}/cds-services/{service.id}/feedback",SHALL,Client,true,,,"",""
cds-hooks_2.0,153,https://cds-hooks.hl7.org/2.0/#feedback,"The feedback endpoint [for submission] can ([SHALL]) be constructed from the CDS Service endpoint and a path segment of ""feedback"" as {baseUrl}/cds-services/{service.id}/feedback",SHALL,Client,false,,,"",""
cds-hooks_2.0,154,https://cds-hooks.hl7.org/2.0/#feedback,The request to the feedback endpoint SHALL be an object containing an array [of [Feedback](https://cds-hooks.hl7.org/2.0/#feedback) objects],SHALL,Client,false,,,"",""
cds-hooks_2.0,155,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the card field is required [and SHALL be a] string data type [containing] the card.uuid from the CDS Hooks response",SHALL,Client,true,,,"",""
cds-hooks_2.0,156,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the outcome field is required [and SHALL be a] string data type [with a value of either] accepted or overridden",SHALL,Client,true,,,"",""
cds-hooks_2.0,157,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the outcome field is required [and SHALL be a] string data type [with a value of either] accepted or overridden",SHALL,Client,true,,,"",""
cds-hooks_2.0,158,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the acceptedSuggestions field is an array of json objects and is required [when feedback.outcome is accepted]",SHALL,Client,true,,,"",""
cds-hooks_2.0,159,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the overrideReason field is a overrideReason object",SHALL,Client,true,,,"",""
cds-hooks_2.0,160,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the overrideReason field is optional",MAY,Client,true,,,"",""
cds-hooks_2.0,161,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the outcomeTimestamp field is required [and SHALL be a] string data type [using the] [ISO8601](https://en.wikipedia.org/wiki/ISO_8601) representation of the date and time in Coordinated Universal Time (UTC) when action was taken on the card, as profiled in [section 5.6 of RFC3339](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6)",SHALL,Client,true,,,"",""
cds-hooks_2.0,162,https://cds-hooks.hl7.org/2.0/#suggestion-accepted,"[When sending an AcceptedSuggestion object], the id field is required [and SHALL be a] string data type [containing] card.suggestion.uuid from the CDS Hooks response",SHALL,Client,true,,,"",""
cds-hooks_2.0,163,https://cds-hooks.hl7.org/2.0/#suggestion-accepted,"If either the card or the suggestion has no uuid, the CDS Client does not send a [feedback] notification",SHALL,Client,true,,,"",""
cds-hooks_2.0,164,https://cds-hooks.hl7.org/2.0/#card-ignored,If the end-user doesn't interact with the CDS Service's card at all … the CDS Client [SHALL NOT] inform the CDS Service of the rejected guidance,SHALL NOT,Client,true,,,"",""
cds-hooks_2.0,165,https://cds-hooks.hl7.org/2.0/#overridereason,"[When sending a overrideReason object,] the reason field is required if user selected an override reason from the list of reasons provided in the Card [and SHALL be a] coding object",SHALL,Client,true,,,"",""
cds-hooks_2.0,166,https://cds-hooks.hl7.org/2.0/#overridereason,"[When sending a overrideReason object,] the userComment field is a string data type",SHALL,Client,true,,,"",""
cds-hooks_2.0,167,https://cds-hooks.hl7.org/2.0/#overridereason,"[When sending a overrideReason object,] the userComment field is optional",MAY,Client,true,,,"",""
cds-hooks_2.0,168,https://cds-hooks.hl7.org/2.0/#security-and-safety,"All data exchanged through the RESTful APIs MUST be transmitted over channels secured using the Hypertext Transfer Protocol (HTTP) over Transport Layer Security (TLS), also known as HTTPS and defined in [RFC2818](https://tools.ietf.org/html/rfc2818)",SHALL,"Client,Service",false,,,"",""
cds-hooks_2.0,169,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,"Each CDS Client vendor/provider SHOULD maintain an ""allow list"" (and/or ""deny list"") of the CDS Services it has vetted",SHOULD,Client,false,,,"",""
cds-hooks_2.0,170,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,"Each CDS Client vendor/provider SHOULD maintain an ""allow list"" (and/or ""deny list"") of ... the Card links that have been deemed safe to display from within the CDS Client context",SHOULD,Client,false,,,"",""
cds-hooks_2.0,171,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,The CDS Service can be registered with the CDS Client's authorization server,MAY,Client,false,,,"",""
cds-hooks_2.0,172,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,Every interaction between a CDS Client and a CDS Service is initiated by the CDS Client sending a service request to a CDS Service endpoint protected using the [Transport Layer Security protocol] (https://tools.ietf.org/html/rfc5246),SHALL,Client,false,,,"",""
cds-hooks_2.0,173,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,CDS Client SHALL deny access to a requested resource if it is outside the user's authorized scope,SHALL,Client,false,,,"",""
cds-hooks_2.0,174,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,"If a CDS Client is satisfying prefetch requests from a CDS Service or sends a non-null fhirAuthorization object to a CDS Service so that it can call the FHIR server, the CDS Service MUST be pre-registered with the authorization server protecting access to the FHIR server",SHALL,Client,true,,,"1.1.02, 2.1","crd_client-crd_client_hook_invocation-crd_client_registration-crd_client_service_registration_attestation, crd_client-crd_client_fhir_api-Group01"
cds-hooks_2.0,178,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"Each time a CDS Client transmits a request to a CDS Service which requires authentication, the request MUST include an Authorization header presenting the JWT as a “Bearer” token:
Authorization:  Bearer {{JWT}}",SHALL,Client,true,,,"1.2.1.03, 1.2.2.03, 1.2.3.03, 1.2.4.03, 1.2.5.03, 1.2.6.03","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_decode_auth_token, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_decode_auth_token, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_decode_auth_token, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_decode_auth_token, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_decode_auth_token, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_decode_auth_token"
cds-hooks_2.0,179,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,mutual TLS MAY be used alongside JSON web tokens to establish trust of the CDS Client by the CDS Service,MAY,"Client,Service",false,,,"",""
cds-hooks_2.0,180,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"The CDS Client MUST use its private key to digitally sign the JWT, using the [JSON Web Signatures (rfc7515)](https://tools.ietf.org/html/rfc7515) standard",SHALL,Client,false,,,"1.2.1.06, 1.2.2.06, 1.2.3.06, 1.2.4.06, 1.2.5.06, 1.2.6.06","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_payload"
cds-hooks_2.0,181,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the alg field is required [and SHALL be a] string data type [containing] the cryptographic algorithm used to sign this JWT.",SHALL,Client,true,,,"1.2.1.06, 1.2.2.06, 1.2.3.06, 1.2.4.06, 1.2.5.06, 1.2.6.06","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_payload"
cds-hooks_2.0,182,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the kid field is required [and SHALL be a] string data type [containing] the identifier of the key-pair used to sign this JWT.",SHALL,Client,true,,,"1.2.1.05, 1.2.2.05, 1.2.3.05, 1.2.4.05, 1.2.5.05, 1.2.6.05","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_header"
cds-hooks_2.0,183,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the kid field MUST be unique within the CDS Client's JWK Set.",SHALL,Client,true,,,"1.2.1.04, 1.2.2.04, 1.2.3.04, 1.2.4.04, 1.2.5.04, 1.2.6.04","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_retrieve_jwks"
cds-hooks_2.0,184,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the typ field is required [and SHALL be a] string data type and SHALL be 'JWT'",SHALL,Client,true,,,"1.2.1.05, 1.2.2.05, 1.2.3.05, 1.2.4.05, 1.2.5.05, 1.2.6.05","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_header"
cds-hooks_2.0,185,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the jku field is a url data type [containing] the URL to the JWK Set containing the public key(s)",SHALL,Client,true,,,"1.2.1.04, 1.2.2.04, 1.2.3.04, 1.2.4.04, 1.2.5.04, 1.2.6.04","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_retrieve_jwks"
cds-hooks_2.0,186,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the jku field is optional",MAY,Client,true,,,"",""
cds-hooks_2.0,187,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the iss field is required [and SHALL be a] string data type [containing] the URI of the issuer of the JWT",SHALL,Client,true,,,"1.2.1.06, 1.2.2.06, 1.2.3.06, 1.2.4.06, 1.2.5.06, 1.2.6.06","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_payload"
cds-hooks_2.0,188,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"The JWT MAY be self-issued by the CDS Client, or MAY be issued by a third-party identity provider.",MAY,Client,true,,,"",""
cds-hooks_2.0,189,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the aud field is required [and SHALL be a] string data type or an array of strings [per [rfc7519](https://tools.ietf.org/html/rfc7519#section-4.1.3) containing] the CDS Service endpoint that is being called by the CDS Client",SHALL,Client,true,,,"1.2.1.06, 1.2.2.06, 1.2.3.06, 1.2.4.06, 1.2.5.06, 1.2.6.06","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_payload"
cds-hooks_2.0,190,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the exp field is required [and SHALL be a] number data type [containing the] expiration time integer for this authentication JWT, expressed in seconds since the ""Epoch"" (1970-01-01T00:00:00Z UTC).",SHALL,Client,true,,,"1.2.1.06, 1.2.2.06, 1.2.3.06, 1.2.4.06, 1.2.5.06, 1.2.6.06","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_payload"
cds-hooks_2.0,191,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the iat field is required [and SHALL be a] number data type [containing] the time at which this JWT was issued, expressed in seconds since the ""Epoch"" (1970-01-01T00:00:00Z UTC)",SHALL,Client,true,,,"1.2.1.06, 1.2.2.06, 1.2.3.06, 1.2.4.06, 1.2.5.06, 1.2.6.06","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_payload"
cds-hooks_2.0,192,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the jti field is required [and SHALL be a] string data type [containing] a nonce string value that uniquely identifies this authentication JWT (used to protect against replay attacks)",SHALL,Client,true,,,"1.2.1.06, 1.2.2.06, 1.2.3.06, 1.2.4.06, 1.2.5.06, 1.2.6.06","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_payload"
cds-hooks_2.0,193,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the tenant field is optional [SHALL be a] string data type [containing] an opaque string identifying the healthcare organization that is invoking the CDS Hooks request",MAY,Client,true,,,"",""
cds-hooks_2.0,194,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the tenant field  is optional",MAY,Client,true,,,"",""
cds-hooks_2.0,196,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"For CDS Hooks, [the aud] value MUST be the URL of the CDS Service endpoint being invoked",SHALL,Client,false,,,"1.2.1.06, 1.2.2.06, 1.2.3.06, 1.2.4.06, 1.2.5.06, 1.2.6.06","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_payload"
cds-hooks_2.0,197,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"The CDS Client MUST make its public key, expressed as a JSON Web Key (JWK), available in a JWK Set, as defined by [rfc7517](https://tools.ietf.org/html/rfc7517)",SHALL,Client,false,,,"1.2.1.04, 1.2.2.04, 1.2.3.04, 1.2.4.04, 1.2.5.04, 1.2.6.04","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_retrieve_jwks"
cds-hooks_2.0,198,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"The CDS Client MAY make its JWK Set available via a URL identified by the jku header field, as defined by [rfc7515 4.1.2](https://tools.ietf.org/html/rfc7515#section-4.1.2)",MAY,Client,false,,,"",""
cds-hooks_2.0,199,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"If the jku header field is ommitted, the CDS Client and CDS Service SHALL communicate the JWK Set out-of-band.",SHALL,"Client,Service",true,,,"1.2.1.04, 1.2.2.04, 1.2.3.04, 1.2.4.04, 1.2.5.04, 1.2.6.04","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_retrieve_jwks, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_retrieve_jwks"
cds-hooks_2.0,200,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,[JSON Web Algorithms (rfc7518)](https://tools.ietf.org/html/rfc7518) defines several cryptographic algorithms for use in signing JWTs and should be referenced by CDS Hooks implementers.,SHOULD,"Client,Service",false,,,"",""
cds-hooks_2.0,202,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,"JWTs SHALL NOT be signed [by Clients] using the none algorithm, referred to in rfc7518 as unsecured JSON Web Signatures, as the lack of a cryptographic signature does not provide any integrity protection.",SHALL NOT,Client,false,,,"1.2.1.05, 1.2.2.05, 1.2.3.05, 1.2.4.05, 1.2.5.05, 1.2.6.05","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_header, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_header"
cds-hooks_2.0,203,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,JWTs SHALL NOT be signed using any symmetric algorithm as these algorithms require the CDS Client and CDS Service to share a private key in order to verify the signature,SHALL NOT,"Client,Service",false,,,"1.2.1.06, 1.2.2.06, 1.2.3.06, 1.2.4.06, 1.2.5.06, 1.2.6.06","crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_token_payload, crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_token_payload"
cds-hooks_2.0,204,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,"When choosing an algorithm to sign their JWTs, CDS Clients SHOULD consider not only the algorithms (and key sizes) that are recommended within the security industry, but also how well those algorithms are supported in the various programming languages and libraries that may be used by CDS Services.",SHOULD,Client,false,,,"",""
cds-hooks_2.0,205,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,"At publication time of this specification, both ES384 and RS384 are RECOMMENDED for their regard within the larger security industry, strength, and support across popular programming languages and libraries.",SHOULD,"Client,Service",false,,,"",""
cds-hooks_2.0,206,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,"Stronger and better algorithms [than ES384 and RS384] are continually being introduced due to new threats, weaknesses, and increases in computing power [and] CDS Clients SHOULD continually re-evaluate their choice of an algorithm based upon these ever changing conditions.",SHOULD,"Client,Service",false,,,"",""
cds-hooks_2.0,208,https://cds-hooks.hl7.org/2.0/#cross-origin-resource-sharing,CDS Services and browser-based CDS Clients will require CORS support. [Cross-origin resource sharing (CORS)](https://www.w3.org/TR/cors/) is a [World Wide Web Consortium (W3C)](https://www.w3.org/Consortium/) standard mechanism that uses additional HTTP headers to enable a web browser to gain permission to access resources from an Internet domain different from that which the browser is currently accessing.,SHALL,"Client,Service",true,,,"",""
cds-hooks_2.0,209,https://cds-hooks.hl7.org/2.0/#update-stale-guidance,"In the case that CDS Hooks cards are persisted, clients should take care to ensure that stale guidance does not negatively impact patient care.",SHOULD,Client,true,,,"",""
cds-hooks_2.0,214,https://cds-hooks.hl7.org/2.0/#extensions,The value of an extension element MUST be a pre-coordinated JSON object,SHALL,"Client,Service",false,,,"",""
cds-hooks_2.0,215,https://cds-hooks.hl7.org/2.0/#extensions,"Extension structures SHOULD use a strategy for naming that ensures global uniqueness, such as reverse-domain-name notation",SHOULD,"Client,Service",false,,,"",""
cds-hooks-library_1.0.1,17,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook the context field] `userId`[is] REQUIRED,SHALL,Client,false,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,18,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `userId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,19,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,"[When invoking the appointment-book hook if context field] `userId`[is populated it SHALL be t]he id of the current user … of type [Practitioner](https://www.hl7.org/fhir/practitioner.html), [PractitionerRole](https://www.hl7.org/fhir/practitionerrole.html), [Patient](https://www.hl7.org/fhir/patient.html), or [RelatedPerson](https://www.hl7.org/fhir/relatedperson.html).",SHALL,Client,false,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,21,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook the context field] `patientId`[is] REQUIRED,SHALL,Client,false,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,22,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,23,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of Patient appointment(s) is/are for,SHALL,Client,false,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,25,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook the context field] `encounterId`[is] OPTIONAL,MAY,Client,false,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,26,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `encounterId`[is populated it SHALL be a ] *string*,SHALL,Client,true,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,27,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `encounterId`[is populated it SHALL be t]he FHIR `Encounter.id` of Encounter where booking was initiated,SHALL,Client,true,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,29,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook the context field] `appointments`[is] REQUIRED,SHALL,Client,false,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,30,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `appointments`[is populated it SHALL be an ] *object*,SHALL,Client,false,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,31,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `appointments`[is populated it SHALL be a] FHIR Bundle of Appointments in 'proposed' state,SHALL,Client,false,,,1.2.1.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_appointment_book-crd_hook_request_valid_context
cds-hooks-library_1.0.1,33,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook the context field] `userId`[is] REQUIRED,SHALL,Client,false,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
cds-hooks-library_1.0.1,34,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `userId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
cds-hooks-library_1.0.1,35,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `userId`[is populated it SHALL be t]he id of the current user … of type [Practitioner](https://www.hl7.org/fhir/practitioner.html) or [PractitionerRole](https://www.hl7.org/fhir/practitionerrole.html).,SHALL,Client,false,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
cds-hooks-library_1.0.1,37,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook the context field] `patientId`[is] REQUIRED,SHALL,Client,false,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
cds-hooks-library_1.0.1,38,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
cds-hooks-library_1.0.1,39,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of the Patient the Encounter is for,SHALL,Client,false,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
cds-hooks-library_1.0.1,41,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook the context field] `encounterId`[is] REQUIRED,SHALL,Client,false,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
cds-hooks-library_1.0.1,42,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `encounterId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
cds-hooks-library_1.0.1,43,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `encounterId`[is populated it SHALL be t]he FHIR `Encounter.id` of the Encounter being started,SHALL,Client,false,,,1.2.2.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_start-crd_hook_request_valid_context
cds-hooks-library_1.0.1,45,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-discharge hook the context field] `userId`[is] REQUIRED,SHALL,Client,false,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
cds-hooks-library_1.0.1,46,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook if context field] `userId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
cds-hooks-library_1.0.1,47,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook if context field] `userId`[is populated it SHALL be t]he id of the current user … of type [Practitioner](https://www.hl7.org/fhir/practitioner.html) or [PractitionerRole](https://www.hl7.org/fhir/practitionerrole.html).,SHALL,Client,false,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
cds-hooks-library_1.0.1,49,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook the context field] `patientId`[is] REQUIRED,SHALL,Client,false,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
cds-hooks-library_1.0.1,50,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
cds-hooks-library_1.0.1,51,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of the [patient] being discharged,SHALL,Client,false,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
cds-hooks-library_1.0.1,53,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook the context field] `encounterId`[is] REQUIRED,SHALL,Client,false,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
cds-hooks-library_1.0.1,54,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-discharge hook if context field] `encounterId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
cds-hooks-library_1.0.1,55,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook if context field] `encounterId`[is populated it SHALL be t]he FHIR `Encounter.id` of the Encounter being ended,SHALL,Client,false,,,1.2.3.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_encounter_discharge-crd_hook_request_valid_context
cds-hooks-library_1.0.1,57,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook the context field] `patientId`[is] REQUIRED,SHALL,Client,false,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,58,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,59,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of the current patient in context,SHALL,Client,false,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,61,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook the context field] `dispatchedOrders`[is] REQUIRED,SHALL,Client,false,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,62,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `dispatchedOrders`[is populated it SHALL be an ] *array*,SHALL,Client,false,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,63,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `dispatchedOrders`[is populated it SHALL be a c]ollection of the FHIR local references for the Request resource(s) for which fulfillment is sought,SHALL,Client,false,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,65,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook the context field] `performer`[is] REQUIRED,SHALL,Client,false,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,66,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `performer`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,67,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,"[When invoking the order-dispatch hook if context field] `performer`[is populated it SHALL be t]he FHIR local reference for the Practitioner, PractitionerRole, Organization, CareTeam, etc. who is being asked to execute the order",SHALL,Client,false,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,69,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook the context field] `fulfillmentTasks`[is] Optional,MAY,Client,false,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,70,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `fulfillmentTasks`[is populated it SHALL be an] *array*,SHALL,Client,true,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,71,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `fulfillmentTasks`[is populated it SHALL be a c]ollection of the Task instances (as objects) that provides a full description of the fulfillment request - including the timing and any constraints on fulfillment.,SHALL,Client,true,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,72,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `fulfillmentTasks`[is populated] each [task] will be for a separate order and SHALL reference one of the dispatched-orders.,SHALL,Client,true,,,1.2.5.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_dispatch-crd_hook_request_valid_context
cds-hooks-library_1.0.1,74,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook the context field] `userId`[is] REQUIRED,SHALL,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,75,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `userId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,76,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `userId`[is populated it SHALL be t]he id of the current user … of type [Practitioner](https://www.hl7.org/fhir/practitioner.html) or [PractitionerRole](https://www.hl7.org/fhir/practitionerrole.html).,SHALL,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,78,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook the context field] `patientId`[is] REQUIRED,SHALL,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,79,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,80,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of the current patient in context,SHALL,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,82,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook the context field] `encounterId`[is] OPTIONAL,MAY,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,83,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `encounterId`[is populated it SHALL be a ] *string*,SHALL,Client,true,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,84,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `encounterId`[is populated it SHALL be t]he FHIR `Encounter.id` of the current encounter in context,SHALL,Client,true,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,86,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook the context field] `selections`[is] Optional,MAY,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,87,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `selections`[is populated it SHALL be an] *array*,SHALL,Client,true,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,88,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,"[When invoking the order-select hook if context field] `selections`[is populated it SHALL be t]he FHIR id of the newly selected order(s) … [that]
references FHIR resources in the `draftOrders` Bundle.",SHALL,Client,true,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,90,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook the context field] `draftOrders`[is] REQUIRED,SHALL,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,91,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `draftOrders`[is populated it SHALL be an ] *object*,SHALL,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,92,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,"[When invoking the order-select hook if context field] `draftOrders`[is populated it SHALL be a] Bundle of FHIR request resources with a draft status, representing orders that aren't yet signed from the current ordering session.",SHALL,Client,false,,,1.2.4.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_select-crd_hook_request_valid_context
cds-hooks-library_1.0.1,1,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook the context field] `userId`[is] REQUIRED,SHALL,Client,false,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,2,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `userId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,3,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `userId`[is populated it SHALL be t]he id of the current user … of type [Practitioner](https://www.hl7.org/fhir/practitioner.html) or [PractitionerRole](https://www.hl7.org/fhir/practitionerrole.html).,SHALL,Client,false,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,5,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook the context field] `patientId`[is] REQUIRED,SHALL,Client,false,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,6,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,false,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,7,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of the current patient in context,SHALL,Client,false,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,9,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook the context field] `encounterId`[is] OPTIONAL,MAY,Client,false,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,10,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `encounterId`[is populated it SHALL be a ] *string*,SHALL,Client,true,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,11,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `encounterId`[is populated it SHALL be t]he FHIR `Encounter.id` of the current encounter in context,SHALL,Client,true,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,13,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook the context field] `draftOrders`[is] REQUIRED,SHALL,Client,false,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,14,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `draftOrders`[is populated it SHALL be an ] *object*,SHALL,Client,false,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
cds-hooks-library_1.0.1,15,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,"[When invoking the order-sign hook if context field] `draftOrders`[is populated it SHALL be a] Bundle of FHIR request resources with a draft status, representing orders that aren't yet signed from the current ordering session.",SHALL,Client,false,,,1.2.6.09,crd_client-crd_client_hook_invocation-crd_client_hooks-crd_client_order_sign-crd_hook_request_valid_context
