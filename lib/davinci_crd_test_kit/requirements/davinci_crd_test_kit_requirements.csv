Req Set,ID,URL,Requirement,Conformance,Actors,Sub-Requirement(s),Conditionality,Not Tested Reason,Not Tested Details
cds-hooks-library_1.0.1,1,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook the context field] `userId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,2,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `userId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,3,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `userId`[is populated it SHALL be t]he id of the current user … of type [Practitioner](https://www.hl7.org/fhir/practitioner.html) or [PractitionerRole](https://www.hl7.org/fhir/practitionerrole.html).,SHALL,Client,,false,,
cds-hooks-library_1.0.1,4,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,"Yes[, Servers MAY use the] `userId` [context field in prefetch tokens for the order-sign hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,5,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook the context field] `patientId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,6,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,7,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of the current patient in context,SHALL,Client,,false,,
cds-hooks-library_1.0.1,8,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,"Yes[, Servers MAY use the] `patientId` [context field in prefetch tokens for the order-sign hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,9,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook the context field] `encounterId`[is] OPTIONAL,MAY,Client,,false,,
cds-hooks-library_1.0.1,10,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `encounterId`[is populated it SHALL be a ] *string*,SHALL,Client,,true,,
cds-hooks-library_1.0.1,11,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `encounterId`[is populated it SHALL be t]he FHIR `Encounter.id` of the current encounter in context,SHALL,Client,,true,,
cds-hooks-library_1.0.1,12,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,"Yes[, Servers MAY use the] `encounterId` [context field in prefetch tokens for the order-sign hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,13,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook the context field] `draftOrders`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,14,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,[When invoking the order-sign hook if context field] `draftOrders`[is populated it SHALL be an ] *object*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,15,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,"[When invoking the order-sign hook if context field] `draftOrders`[is populated it SHALL be a] Bundle of FHIR request resources with a draft status, representing orders that aren't yet signed from the current ordering session.",SHALL,Client,,false,,
cds-hooks-library_1.0.1,16,https://cds-hooks.hl7.org/hooks/STU1/order-sign.html#context,"No[, Servers SHALL NOT use the] `draftOrders` [context field in prefetch tokens for the order-sign hook]",SHALL NOT,Server,,false,,
cds-hooks-library_1.0.1,17,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook the context field] `userId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,18,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `userId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,19,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,"[When invoking the appointment-book hook if context field] `userId`[is populated it SHALL be t]he id of the current user … of type [Practitioner](https://www.hl7.org/fhir/practitioner.html), [PractitionerRole](https://www.hl7.org/fhir/practitionerrole.html), [Patient](https://www.hl7.org/fhir/patient.html), or [RelatedPerson](https://www.hl7.org/fhir/relatedperson.html).",SHALL,Client,,false,,
cds-hooks-library_1.0.1,20,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,"Yes[, Servers MAY use the] `userId` [context field in prefetch tokens for the appointment-book hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,21,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook the context field] `patientId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,22,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,23,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of Patient appointment(s) is/are for,SHALL,Client,,false,,
cds-hooks-library_1.0.1,24,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,"Yes[, Servers MAY use the] `patientId` [context field in prefetch tokens for the appointment-book hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,25,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook the context field] `encounterId`[is] OPTIONAL,MAY,Client,,false,,
cds-hooks-library_1.0.1,26,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `encounterId`[is populated it SHALL be a ] *string*,SHALL,Client,,true,,
cds-hooks-library_1.0.1,27,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `encounterId`[is populated it SHALL be t]he FHIR `Encounter.id` of Encounter where booking was initiated,SHALL,Client,,true,,
cds-hooks-library_1.0.1,28,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,"Yes[, Servers MAY use the] `encounterId` [context field in prefetch tokens for the appointment-book hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,29,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook the context field] `appointments`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,30,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `appointments`[is populated it SHALL be an ] *object*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,31,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,[When invoking the appointment-book hook if context field] `appointments`[is populated it SHALL be a] FHIR Bundle of Appointments in 'proposed' state,SHALL,Client,,false,,
cds-hooks-library_1.0.1,32,https://cds-hooks.hl7.org/hooks/STU1/appointment-book.html#context,"No[, Servers SHALL NOT use the] `appointments` [context field in prefetch tokens for the appointment-book hook]",SHALL NOT,Server,,false,,
cds-hooks-library_1.0.1,33,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook the context field] `userId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,34,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `userId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,35,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `userId`[is populated it SHALL be t]he id of the current user … of type [Practitioner](https://www.hl7.org/fhir/practitioner.html) or [PractitionerRole](https://www.hl7.org/fhir/practitionerrole.html).,SHALL,Client,,false,,
cds-hooks-library_1.0.1,36,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,"Yes[, Servers MAY use the] `userId` [context field in prefetch tokens for the encounter-start hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,37,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook the context field] `patientId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,38,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,39,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of the Patient the Encounter is for,SHALL,Client,,false,,
cds-hooks-library_1.0.1,40,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,"Yes[, Servers MAY use the] `patientId` [context field in prefetch tokens for the encounter-start hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,41,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook the context field] `encounterId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,42,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `encounterId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,43,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-start hook if context field] `encounterId`[is populated it SHALL be t]he FHIR `Encounter.id` of the Encounter being started,SHALL,Client,,false,,
cds-hooks-library_1.0.1,44,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,"Yes[, Servers MAY use the] `encounterId` [context field in prefetch tokens for the encounter-start hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,45,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-discharge hook the context field] `userId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,46,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook if context field] `userId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,47,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook if context field] `userId`[is populated it SHALL be t]he id of the current user … of type [Practitioner](https://www.hl7.org/fhir/practitioner.html) or [PractitionerRole](https://www.hl7.org/fhir/practitionerrole.html).,SHALL,Client,,false,,
cds-hooks-library_1.0.1,48,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,"Yes[, Servers MAY use the] `userId` [context field in prefetch tokens for the encounter-discharge hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,49,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook the context field] `patientId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,50,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,51,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of the [patient] being discharged,SHALL,Client,,false,,
cds-hooks-library_1.0.1,52,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,"Yes[, Servers MAY use the] `patientId` [context field in prefetch tokens for the encounter-discharge hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,53,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook the context field] `encounterId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,54,https://cds-hooks.hl7.org/hooks/STU1/encounter-start.html#context,[When invoking the encounter-discharge hook if context field] `encounterId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,55,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,[When invoking the encounter-discharge hook if context field] `encounterId`[is populated it SHALL be t]he FHIR `Encounter.id` of the Encounter being ended,SHALL,Client,,false,,
cds-hooks-library_1.0.1,56,https://cds-hooks.hl7.org/hooks/STU1/encounter-discharge.html#context,"Yes[, Servers MAY use the] `encounterId` [context field in prefetch tokens for the encounter-discharge hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,57,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook the context field] `patientId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,58,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,59,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of the current patient in context,SHALL,Client,,false,,
cds-hooks-library_1.0.1,60,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,"Yes[, Servers MAY use the] `patientId` [context field in prefetch tokens for the order-dispatch hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,61,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook the context field] `dispatchedOrders`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,62,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `dispatchedOrders`[is populated it SHALL be an ] *array*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,63,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `dispatchedOrders`[is populated it SHALL be a c]ollection of the FHIR local references for the Request resource(s) for which fulfillment is sought,SHALL,Client,,false,,
cds-hooks-library_1.0.1,64,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,"Yes[, Servers MAY use the] `dispatchedOrders` [context field in prefetch tokens for the order-dispatch hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,65,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook the context field] `performer`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,66,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `performer`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,67,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,"[When invoking the order-dispatch hook if context field] `performer`[is populated it SHALL be t]he FHIR local reference for the Practitioner, PractitionerRole, Organization, CareTeam, etc. who is being asked to execute the order",SHALL,Client,,false,,
cds-hooks-library_1.0.1,68,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,"Yes[, Servers MAY use the] `performer` [context field in prefetch tokens for the order-dispatch hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,69,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook the context field] `fulfillmentTasks`[is] Optional,MAY,Client,,false,,
cds-hooks-library_1.0.1,70,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `fulfillmentTasks`[is populated it SHALL be an] *array*,SHALL,Client,,true,,
cds-hooks-library_1.0.1,71,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `fulfillmentTasks`[is populated it SHALL be a c]ollection of the Task instances (as objects) that provides a full description of the fulfillment request - including the timing and any constraints on fulfillment.,SHALL,Client,,true,,
cds-hooks-library_1.0.1,72,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,[When invoking the order-dispatch hook if context field] `fulfillmentTasks`[is populated] each [task] will be for a separate order and SHALL reference one of the dispatched-orders.,SHALL,Client,,true,,
cds-hooks-library_1.0.1,73,https://cds-hooks.hl7.org/hooks/STU1/order-dispatch.html#context,"No[, Servers SHALL NOT use the] `fulfillmentTasks` [context field in prefetch tokens for the order-dispatch hook]",SHALL NOT,Server,,false,,
cds-hooks-library_1.0.1,74,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook the context field] `userId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,75,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `userId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,76,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `userId`[is populated it SHALL be t]he id of the current user … of type [Practitioner](https://www.hl7.org/fhir/practitioner.html) or [PractitionerRole](https://www.hl7.org/fhir/practitionerrole.html).,SHALL,Client,,false,,
cds-hooks-library_1.0.1,77,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,"Yes[, Servers MAY use the] `userId` [context field in prefetch tokens for the order-select hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,78,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook the context field] `patientId`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,79,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `patientId`[is populated it SHALL be a ] *string*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,80,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `patientId`[is populated it SHALL be t]he FHIR `Patient.id` of the current patient in context,SHALL,Client,,false,,
cds-hooks-library_1.0.1,81,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,"Yes[, Servers MAY use the] `patientId` [context field in prefetch tokens for the order-select hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,82,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook the context field] `encounterId`[is] OPTIONAL,MAY,Client,,false,,
cds-hooks-library_1.0.1,83,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `encounterId`[is populated it SHALL be a ] *string*,SHALL,Client,,true,,
cds-hooks-library_1.0.1,84,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `encounterId`[is populated it SHALL be t]he FHIR `Encounter.id` of the current encounter in context,SHALL,Client,,true,,
cds-hooks-library_1.0.1,85,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,"Yes[, Servers MAY use the] `encounterId` [context field in prefetch tokens for the order-select hook]",MAY,Server,,false,,
cds-hooks-library_1.0.1,86,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook the context field] `selections`[is] Optional,MAY,Client,,false,,
cds-hooks-library_1.0.1,87,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `selections`[is populated it SHALL be an] *array*,SHALL,Client,,true,,
cds-hooks-library_1.0.1,88,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,"[When invoking the order-select hook if context field] `selections`[is populated it SHALL be t]he FHIR id of the newly selected order(s) … [that]
references FHIR resources in the `draftOrders` Bundle.",SHALL,Client,,true,,
cds-hooks-library_1.0.1,89,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,"No[, Servers SHALL NOT use the] `selections` [context field in prefetch tokens for the order-select hook]",SHALL NOT,Server,,false,,
cds-hooks-library_1.0.1,90,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook the context field] `draftOrders`[is] REQUIRED,SHALL,Client,,false,,
cds-hooks-library_1.0.1,91,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,[When invoking the order-select hook if context field] `draftOrders`[is populated it SHALL be an ] *object*,SHALL,Client,,false,,
cds-hooks-library_1.0.1,92,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,"[When invoking the order-select hook if context field] `draftOrders`[is populated it SHALL be a] Bundle of FHIR request resources with a draft status, representing orders that aren't yet signed from the current ordering session.",SHALL,Client,,false,,
cds-hooks-library_1.0.1,93,https://cds-hooks.hl7.org/hooks/STU1/order-select.html#context,"No[, Servers SHALL NOT use the] `draftOrders` [context field in prefetch tokens for the order-select hook]",SHALL NOT,Server,,false,,
cds-hooks_2.0,1,https://cds-hooks.hl7.org/2.0/#use-of-json,All data exchanged through production RESTful APIs MUST be sent and received as JSON (JavaScript Object Notation) structures.,SHALL,"Client, Service",,,,
cds-hooks_2.0,2,https://cds-hooks.hl7.org/2.0/#use-of-json,All data exchanged through production RESTful APIs MUST be ... transmitted over HTTPS,SHALL,"Client, Service",,,,
cds-hooks_2.0,3,https://cds-hooks.hl7.org/2.0/#use-of-json,"JSON elements SHALL NOT be null … [or] empty, unless otherwise specified (e.g. to indicate no guidance with an empty array of cards in the CDS Hooks response).",SHALL NOT,"Client, Service",,,,
cds-hooks_2.0,4,https://cds-hooks.hl7.org/2.0/#discovery,A CDS Service provider exposes its discovery endpoint at: {baseURL}/cds-services,SHALL,Service,,,,
cds-hooks_2.0,5,https://cds-hooks.hl7.org/2.0/#http-request,The Discovery endpoint SHALL always be available at {baseUrl}/cds-services [using HTTP GET],SHALL,Service,,,,
cds-hooks_2.0,6,https://cds-hooks.hl7.org/2.0/#response,The response to the discovery endpoint SHALL be an object containing a list [json array] of CDS Services.,SHALL,Service,,,,
cds-hooks_2.0,7,https://cds-hooks.hl7.org/2.0/#response,"Each CDS Service SHALL be described by the following attributes [including]:
- field: hook
- optionality: REQUIRED
- type: string
- description: The hook this service should be invoked on",SHALL,Service,,,,
cds-hooks_2.0,8,https://cds-hooks.hl7.org/2.0/#response,"Each CDS Service SHALL be described by the following attributes [including]:
- field: title
- optionality: RECOMMENDED
- type: string
- description:",SHOULD,Service,,,,
cds-hooks_2.0,9,https://cds-hooks.hl7.org/2.0/#response,"Each CDS Service SHALL be described by the following attributes [including]:
- field: description
- optionality: REQUIRED 
- type: string 
- description: The description of this service.",SHALL,Service,,,,
cds-hooks_2.0,10,https://cds-hooks.hl7.org/2.0/#response,"Each CDS Service SHALL be described by the following attributes [including]:
- field: id
- optionality: REQUIRED
- type: string
- description:  The {id} portion of the URL to this service which is available at
{baseUrl}/cds-services/{id}",SHALL,Service,,,,
cds-hooks_2.0,11,https://cds-hooks.hl7.org/2.0/#response,"Each CDS Service SHALL be described by the following attributes [including]:
- field: prefetch
- optionality: OPTIONAL
- type: object
- description: An object containing key/value pairs of FHIR queries that this service is requesting the CDS Client to perform and provide on each service call. The key is a string that describes the type of data being requested and the value is a string representing the FHIR query.",MAY,Service,,,,
cds-hooks_2.0,12,https://cds-hooks.hl7.org/2.0/#response,"Each CDS Service SHALL be described by the following attributes [including]:
- field: usageRequirements
- optionality: OPTIONAL
- type: string
- description: Human-friendly description of any preconditions for the use of this CDS Service.",MAY,Service,,,,
cds-hooks_2.0,13,https://cds-hooks.hl7.org/2.0/#http-status-codes,[Services SHALL return a HTTP] 200 ok [response to indicate] A successful response [to a discovery request],SHALL,Service,,,,
cds-hooks_2.0,14,https://cds-hooks.hl7.org/2.0/#http-status-codes,"CDS Services MAY return other HTTP statuses, specifically 4xx and 5xx HTTP error codes.",MAY,Service,,,,
cds-hooks_2.0,15,https://cds-hooks.hl7.org/2.0/#http-request_1,A CDS Client SHALL call a CDS Service by POSTing a JSON document to the service,SHALL,Client,,,,
cds-hooks_2.0,16,https://cds-hooks.hl7.org/2.0/#http-request_1,The CDS Service endpoint can be constructed from the CDS Service base URL and an individual service id as {baseUrl}/cds-services/{service.id}.,SHALL,Service,,,,
cds-hooks_2.0,17,https://cds-hooks.hl7.org/2.0/#http-request_1,"CDS Clients may add additional requirements for the triggering of a hook, based upon the user, workflow, CDS Service or other reasons (e.g. if the service is provided by a payer, the patient has active coverage with that payer).",MAY,Client,,,,
cds-hooks_2.0,18,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: hook
- optionality: REQUIRED
- type: string
- description: The hook that triggered this CDS Service call.",SHALL,Client,,,,
cds-hooks_2.0,19,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: hookInstance
- optionality: REQUIRED
- type: string
- description: 	A universally unique identifier (UUID) for this particular hook call",SHALL,Client,,,,
cds-hooks_2.0,20,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: fhirServer
- optionality: CONDITIONAL
- type: URL
- description: The base URL of the CDS Client's FHIR server. If fhirAuthorization is provided, this field is REQUIRED. The scheme MUST be https when production data is exchanged.",SHALL,Client,,true,,
cds-hooks_2.0,21,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: fhirAuthorization
- optionality: OPTIONAL
- type: object
- description: A structure holding an OAuth 2.0 bearer access token granting the CDS Service access to FHIR resources, along with supplemental information relating to the token.",MAY,Client,,,,
cds-hooks_2.0,22,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: context
- optionality: REQUIRED
- type: object
- description: Hook-specific contextual data that the CDS service will need. For example, with the patient-view hook this will include the FHIR id of the Patient being viewed",SHALL,Client,,,,
cds-hooks_2.0,23,https://cds-hooks.hl7.org/2.0/#http-request_1,"The [service invocation] request SHALL include a JSON POST body with the following input fields [including]:
- field: prefetch
- optionality: OPTIONAL
- type: object
- description: The FHIR data that was prefetched by the CDS Client",MAY,Client,,,,
cds-hooks_2.0,24,https://cds-hooks.hl7.org/2.0/#hookinstance,"While working in the CDS Client, a user can perform multiple actions in series or in parallel. For example, a clinician might prescribe two drugs in a row; each prescription action would be assigned a unique hookInstance. This allows a CDS Service to uniquely identify each hook invocation.",DEPRECATED,Client,,,,
cds-hooks_2.0,25,https://cds-hooks.hl7.org/2.0/#hookinstance,the hookInstance is globally unique,SHALL,Client,,,,
cds-hooks_2.0,26,https://cds-hooks.hl7.org/2.0/#hookinstance,the hookInstance ... should contain enough entropy to be un-guessable.,SHOULD,Client,,,,
cds-hooks_2.0,27,https://cds-hooks.hl7.org/2.0/#providing-fhir-resources-to-a-cds-service,CDS Services SHOULD respond quickly (on the order of 500 ms.),SHOULD,Service,,,,
cds-hooks_2.0,28,https://cds-hooks.hl7.org/2.0/#providing-fhir-resources-to-a-cds-service,"FHIR resources MAY be obtained [by the service] by passing ""prefetched"" data from the CDS Client to the CDS Service in the service call.",MAY,Service,,,,
cds-hooks_2.0,29,https://cds-hooks.hl7.org/2.0/#providing-fhir-resources-to-a-cds-service,"If data is to be prefetched, the CDS Service registers a set of ""prefetch templates"" with the CDS Client… [communicated] in the CDS Service discovery response.",SHALL,Service,,true,,
cds-hooks_2.0,30,https://cds-hooks.hl7.org/2.0/#providing-fhir-resources-to-a-cds-service,"The [prefetched] FHIR resources are passed as key-value pairs, with each key matching a key described in the discovery response, and each value being a FHIR resource. Note that in the case of searches, this resource may be a searchset Bundle.",SHALL,Client,,true,,
cds-hooks_2.0,31,https://cds-hooks.hl7.org/2.0/#providing-fhir-resources-to-a-cds-service,"If the CDS Client decides to have the CDS Service fetch its own FHIR resources, the CDS Client obtains and passes directly to the CDS Service a bearer token issued for the CDS Service's use in executing FHIR API calls against the CDS Client's FHIR server to obtain the required resources.",DEPRECATED,Client,,true,,
cds-hooks_2.0,32,https://cds-hooks.hl7.org/2.0/#providing-fhir-resources-to-a-cds-service,"Some CDS Clients MAY pass prefetched data, along with a bearer token for the CDS Service to use if additional resources are required.",MAY,Client,,false,,
cds-hooks_2.0,33,https://cds-hooks.hl7.org/2.0/#providing-fhir-resources-to-a-cds-service,"Each CDS Client SHOULD decide which approach [for providing data to the Service], or combination, is preferred, based on performance considerations and assessment of attendant security and safety risks.",DEPRECATED,Client,,false,,
cds-hooks_2.0,34,https://cds-hooks.hl7.org/2.0/#providing-fhir-resources-to-a-cds-service,CDS Services should be capable of accessing FHIR resources via either prefetch or from the CDS Client's FHIR server.,SHOULD,Service,,true,,
cds-hooks_2.0,35,https://cds-hooks.hl7.org/2.0/#prefetch-template,"To allow for prefetch templates that are dependent on the workflow context, prefetch templates may include references to context using prefetch tokens.",MAY,"Client, Service",,false,,
cds-hooks_2.0,36,https://cds-hooks.hl7.org/2.0/#prefetch-template,The prefetch field of a CDS Service discovery response … [SHALL provide a] prefetch key for each … [prefetch template] that is used to identify the prefetch data in the CDS request.,SHALL,Service,,false,,
cds-hooks_2.0,37,https://cds-hooks.hl7.org/2.0/#prefetch-template,"CDS Client MAY choose to honor zero, some, or all of the desired prefetch templates",MAY,Client,,false,,
cds-hooks_2.0,38,https://cds-hooks.hl7.org/2.0/#prefetch-template,A CDS Client MAY ... choose the most appropriate source for … [its prefetch] data,MAY,Client,,false,,
cds-hooks_2.0,39,https://cds-hooks.hl7.org/2.0/#prefetch-template,"[To avoid a network call,] the CDS Client MAY ... [use] prefetched data already in memory",MAY,Client,,false,,
cds-hooks_2.0,40,https://cds-hooks.hl7.org/2.0/#prefetch-template,"[To minimize the number of calls,] the CDS Client MAY compute an efficient set of prefetch templates from multiple CDS Services",MAY,Client,,false,,
cds-hooks_2.0,41,https://cds-hooks.hl7.org/2.0/#prefetch-template,The CDS Client MAY satisfy some of the desired prefetched templates via some internal service or even its own FHIR server.,MAY,Client,,false,,
cds-hooks_2.0,42,https://cds-hooks.hl7.org/2.0/#prefetch-template,"[When providing prefetched data, t]he CDS Client SHALL only provide access to resources that are within the user's authorized scope.",SHALL,Client,,false,,
cds-hooks_2.0,43,https://cds-hooks.hl7.org/2.0/#prefetch-template,The relative URL [constructed when a CDS client processes prefetch templates] may be appended to the base URL for the CDS Client's FHIR server and directly invoked,MAY,Client,,false,,
cds-hooks_2.0,44,https://cds-hooks.hl7.org/2.0/#prefetch-template,CDS Clients may use internal infrastructure to satisfy the [prefetch] request in the same way that invoking against the FHIR server would.,MAY,Client,,false,,
cds-hooks_2.0,45,https://cds-hooks.hl7.org/2.0/#prefetch-template,the prefetched data given to the CDS Service MUST be equivalent to the data the CDS Service would receive if it were making its own call to the CDS Client's FHIR server using the parameterized prefetch template.,SHALL,Client,,false,,
cds-hooks_2.0,46,https://cds-hooks.hl7.org/2.0/#prefetch-template,Prefetch data for other services registered to the same hook MUST NOT be provided [to a CDS service that has not requested or is not authorized to receive it],SHALL NOT,Client,,false,,
cds-hooks_2.0,47,https://cds-hooks.hl7.org/2.0/#prefetch-template,[CDS] services SHALL only receive the data they requested in their prefetch.,SHALL,Client,,false,,
cds-hooks_2.0,48,https://cds-hooks.hl7.org/2.0/#prefetch-template,CDS Client MAY paginate prefetch results,MAY,Client,,false,,
cds-hooks_2.0,49,https://cds-hooks.hl7.org/2.0/#prefetch-template,The CDS Client MUST NOT send any prefetch template key that it chooses not to satisfy.,SHALL NOT,Client,,false,,
cds-hooks_2.0,50,https://cds-hooks.hl7.org/2.0/#prefetch-template,"If the CDS Client encounters errors prefetching the requested data, OperationOutcome(s) SHOULD be used to communicate those errors",SHOULD,Client,,true,,
cds-hooks_2.0,51,https://cds-hooks.hl7.org/2.0/#prefetch-template,CDS Clients MUST omit the prefetch key if relevant details cannot be provided (e.g. intermittent connectivity issues),SHALL,Client,,false,,
cds-hooks_2.0,52,https://cds-hooks.hl7.org/2.0/#prefetch-template,CDS Services SHOULD check any prefetched data for the existence of OperationOutcomes,SHOULD,Service,,false,,
cds-hooks_2.0,53,https://cds-hooks.hl7.org/2.0/#prefetch-template,"If the CDS Client has no data to populate a template prefetch key, the prefetch template key MUST have a value of null.",SHALL,Client,,true,,
cds-hooks_2.0,54,https://cds-hooks.hl7.org/2.0/#prefetch-template,"If the CDS Service is unable to obtain required data because it cannot access the FHIR server and the request did not contain the necessary prefetch keys, the service SHALL respond with an HTTP 412 Precondition Failed status code.",SHALL,Service,,true,,
cds-hooks_2.0,55,https://cds-hooks.hl7.org/2.0/#prefetch-tokens,Prefetch tokens MUST be delimited by {{ and }},SHALL,Service,,false,,
cds-hooks_2.0,56,https://cds-hooks.hl7.org/2.0/#prefetch-tokens,"Prefetch tokens ... MUST contain only the qualified path to a hook context field or one of the following user identifiers: userPractitionerId, userPractitionerRoleId, userPatientId, or userRelatedPersonId",SHALL,Service,,true,,
cds-hooks_2.0,57,https://cds-hooks.hl7.org/2.0/#prefetch-tokens,Only root-level fields with a primitive value within the context object are eligible to be used as prefetch tokens.,SHALL,Service,,true,,
cds-hooks_2.0,58,https://cds-hooks.hl7.org/2.0/#prefetch-query-restrictions,"To reduce the implementation burden on CDS Clients that support CDS Services, this specification RECOMMENDS that prefetch queries only use a subset of the full functionality available in the FHIR specification … [that includes]:
- instance level [read](https://www.hl7.org/fhir/http.html#read) interactions (for resources with known ids such as `Patient`, `Practitioner`, or `Encounter`)
- type level [search](https://www.hl7.org/fhir/http.html#search) interactions; e.g. `patient={{context.patientId}}`
-  Resource references (e.g. `patient={{context.patientId}}`)
- token search parameters using equality (e.g. `code=4548-4`) and ... the `:in` modifier (no other modifiers for token parameters)
- date search parameters on `date`, `dateTime`, `instant`, or `Period` types only, and using only the prefixes `eq`, `lt`, `gt`, `ge`, `le`
- the `_count` parameter to limit the number of results returned
- the `_sort` parameter to allow for most recent and first queries",SHOULD,Service,,,,
cds-hooks_2.0,59,https://cds-hooks.hl7.org/2.0/#example-prefetch-token,"When context fields are used as tokens, their token name MUST be `context.name-of-the-field`",SHALL,Service,,true,,
cds-hooks_2.0,60,https://cds-hooks.hl7.org/2.0/#fhir-resource-access,"If the CDS Client provides both fhirServer and fhirAuthorization request parameters, the CDS Service MAY use the FHIR server to obtain any FHIR resources for which it's authorized, beyond those provided by the CDS Client as prefetched data",MAY,Service,,true,,
cds-hooks_2.0,61,https://cds-hooks.hl7.org/2.0/#fhir-resource-access,CDS Hooks requires that CDS Services present a valid access token to the FHIR server with each API call,SHALL,Service,,false,,
cds-hooks_2.0,62,https://cds-hooks.hl7.org/2.0/#fhir-resource-access,"CDS Hooks workflow MUST accommodate the automated, low-latency delivery of an access token to the CDS service",DEPRECATED,Client,,false,,
cds-hooks_2.0,63,https://cds-hooks.hl7.org/2.0/#fhir-resource-access,"[When executing a CDS request on behalf of a user,] the data to which the CDS Service is given access by the CDS Client MUST be limited to the same restrictions and authorizations afforded the current user.",SHALL,Client,,true,,
cds-hooks_2.0,64,https://cds-hooks.hl7.org/2.0/#fhir-resource-access,"[When executing a CDS request on behalf of a user,] the access token SHALL be scoped to: The CDS Service being invoked [and] the current user",SHALL,Client,,true,,
cds-hooks_2.0,65,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"If the CDS Client chooses not to pass along an access token, the fhirAuthorization parameter [SHALL be] … omitted.",SHALL,Client,,true,,
cds-hooks_2.0,66,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter, the]  access_token field [SHALL be populated with] the [Oauth 2.0](https://oauth.net/2/) access token [as a] string data type",SHALL,Client,,true,,
cds-hooks_2.0,67,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter, the]  token_type field [SHALL be populated with the] fixed value: 'Bearer'",SHALL,Client,,true,,
cds-hooks_2.0,68,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter, the]  expires_in field [SHALL be populated with the] the lifetime in seconds of the access token [as an] integer data type",SHALL,Client,,true,,
cds-hooks_2.0,69,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter, the]  scope field [SHALL be populated with the] the scopes the access token grants the CDS Service [as a] string data type",SHALL,Client,,true,,
cds-hooks_2.0,70,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter, the]  subject field [SHALL be populated with] the [Oauth 2.0](https://oauth.net/2/) client identifier of the CDS Service, as registered with the CDS Client's authorization server [as a] string data type",SHALL,Client,,true,,
cds-hooks_2.0,71,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,"[When sending a fhirAuthorization request parameter and] the access token is restricted to a specific patient, [the]  patient field  SHOULD be populated to identify the FHIR id of that patient [as a] string data type",SHOULD,Client,,true,,
cds-hooks_2.0,72,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,The `expires_in` value is established by the authorization server and SHOULD BE very short lived,SHOULD,Client,,false,,
cds-hooks_2.0,73,https://cds-hooks.hl7.org/2.0/#passing-the-access-token-to-the-cds-service,CDS Clients SHOULD revoke an issued access token upon the completion of the CDS Hooks request/response to limit the validity period of the token.,SHOULD,Client,,true,,
cds-hooks_2.0,74,https://cds-hooks.hl7.org/2.0/#cds-service-response,"For successful responses, CDS Services SHALL respond with a 200 HTTP response with an object containing a cards array",SHALL,Service,,true,,
cds-hooks_2.0,75,https://cds-hooks.hl7.org/2.0/#cds-service-response,"For successful responses, CDS Services [MAY] optionally [respond with an object containing] a systemActions array",SHALL,Service,,true,,
cds-hooks_2.0,76,https://cds-hooks.hl7.org/2.0/#cds-service-response,"CDS Services MAY return other HTTP statuses, specifically 4xx and 5xx HTTP error codes.",MAY,Service,,true,,
cds-hooks_2.0,77,https://cds-hooks.hl7.org/2.0/#cds-service-response,"If … [the] CDS Service has no decision support for the user, … [the] service should return a 200 HTTP response with an empty array of cards",SHOULD,Service,,true,,
cds-hooks_2.0,78,https://cds-hooks.hl7.org/2.0/#cds-service-response,Clients SHOULD remove cards returned by previous invocations of a hook to a service with the same id when a new hook is triggered (see [update stale guidance](https://cds-hooks.hl7.org/2.0/#update-stale-guidance)).,SHOULD,Service,,true,,
cds-hooks_2.0,79,https://cds-hooks.hl7.org/2.0/#card-attributes,[When receiving a card object] the uuid field SHALL be included in any subsequent calls to the CDS service's feedback endpoint.,SHALL,Client,,true,,
cds-hooks_2.0,80,https://cds-hooks.hl7.org/2.0/#card-attributes,[When sending a card object] the uuid field SHALL [be a] unique identifier of the card [and be sent as] a string data type,SHALL,Service,,true,,
cds-hooks_2.0,81,https://cds-hooks.hl7.org/2.0/#card-attributes,[When sending a card object] the uuid field is optional,MAY,Service,,true,,
cds-hooks_2.0,82,https://cds-hooks.hl7.org/2.0/#card-attributes,[When sending a card object] the uuid field MAY be used for auditing and logging cards,MAY,Service,,true,,
cds-hooks_2.0,83,https://cds-hooks.hl7.org/2.0/#card-attributes,[When sending a card object] the summary field Shall be a < 140 summary message for display to the user as a string data type,SHALL,Service,,true,,
cds-hooks_2.0,84,https://cds-hooks.hl7.org/2.0/#card-attributes,[When sending a card object] the detail field is optional [and used to send] information to display,MAY,Service,,true,,
cds-hooks_2.0,85,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object] the detail field, if provided, MUST be represented in [(GitHub Flavored) Markdown](https://github.github.com/gfm/)",SHALL,Service,,true,,
cds-hooks_2.0,86,https://cds-hooks.hl7.org/2.0/#card-attributes,"For non-urgent cards, the CDS Client MAY hide [the information from the detail field] until the user clicks a link like ""view more details.",MAY,Client,,true,,
cds-hooks_2.0,87,https://cds-hooks.hl7.org/2.0/#card-attributes,[When sending a card object] the indicator field is a required field [conveying] the urgency / importance of the card [information sent as a] string data type,SHALL,Service,,true,,
cds-hooks_2.0,88,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object] the indicator field's allowed values, in order of increasing urgency, are: info, warning, critical",SHALL,Service,,true,,
cds-hooks_2.0,89,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  the CDS Client MAY use [the indicator] field to help make UI display decisions such as sort order or coloring.",SHALL,Service,,true,,
cds-hooks_2.0,90,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  the source is a required field [and SHALL be populated with a] [source](https://cds-hooks.hl7.org/2.0/#source) object",SHALL,Service,,true,,
cds-hooks_2.0,91,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When receiving a card object,]  the source field [/ source object] should be the primary source of guidance for the decision support the card represents.",SHOULD,Client,,true,,
cds-hooks_2.0,92,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  the suggestion field  allows a service to suggest a set of changes in the context of the current activity [and is sent as a] array of [suggestion](https://cds-hooks.hl7.org/2.0/#suggestion) [objects]",SHALL,Service,,true,,
cds-hooks_2.0,93,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  If suggestions are present, selectionBehavior MUST also be provided.",SHALL,Service,,true,,
cds-hooks_2.0,94,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  the suggestion field  is optional",MAY,Service,,true,,
cds-hooks_2.0,95,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  the selectionBehavior field [has] allowed values of at-most-one, indicating that the user may choose none or at most one of the suggestions [and] any, indicating that the end user may choose any number of suggestions including none of them and all of them",SHALL,Service,,true,,
cds-hooks_2.0,96,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  the selectionBehavior field [SHALL be sent as a] string data type [and SHALL be present if the suggestions field in the card is populated]",SHALL,Service,,true,,
cds-hooks_2.0,97,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When receiving a card object,] CDS Clients that do not understand the value [in the selectionBehavior field] MUST treat the card as an error.",SHALL,Client,,true,,
cds-hooks_2.0,98,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  the overrideReason field [SHALL be sent as a] array of [coding](https://cds-hooks.hl7.org/2.0/#coding) [objects]",SHALL,Service,,true,,
cds-hooks_2.0,99,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  the CDS service MAY return a list of override reasons to the CDS client",MAY,Service,,true,,
cds-hooks_2.0,100,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  if override reasons are present, the CDS Service MUST populate a display value for each reason's [Coding](https://cds-hooks.hl7.org/2.0/#coding)",SHALL,Service,,true,,
cds-hooks_2.0,101,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When receiving a card object,]  if override reasons are present … the CDS Client SHOULD present these reasons to the clinician when they dismiss a card.",SHOULD,Client,,true,,
cds-hooks_2.0,102,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When receiving a card object,]  if override reasons are present … a CDS Client MAY augment the override reasons presented to the user with its own reasons.",MAY,Client,,true,,
cds-hooks_2.0,103,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  the link field [SHALL be sent as a] array of [link](https://cds-hooks.hl7.org/2.0/#link) [objects]",SHALL,Service,,true,,
cds-hooks_2.0,104,https://cds-hooks.hl7.org/2.0/#card-attributes,"[When sending a card object,]  the link field is optional",MAY,Service,,true,,
cds-hooks_2.0,105,https://cds-hooks.hl7.org/2.0/#source,"[When sending a Source object,] the label field is required and [SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,106,https://cds-hooks.hl7.org/2.0/#source,"[When sending a Source object,] if a url is also specified, [the label field] MAY be the text for the hyperlink",MAY,Service,,true,,
cds-hooks_2.0,107,https://cds-hooks.hl7.org/2.0/#source,"[When sending a Source object,] the url field [SHALL be a] URL data type [and use a] absolute URL",SHALL,Service,,true,,
cds-hooks_2.0,108,https://cds-hooks.hl7.org/2.0/#source,"[When sending a Source object,] the url field is optional",MAY,Service,,true,,
cds-hooks_2.0,109,https://cds-hooks.hl7.org/2.0/#source,"[When sending a Source object,] the URL [field] should not be used to supply a context-specific ""drill-down"" view of the information on this card.",SHOULD NOT,Service,,true,,
cds-hooks_2.0,110,https://cds-hooks.hl7.org/2.0/#source,"To supply a context-specific ""drill-down"" view of the information on a card [object implementers SHOULD] ... use [card.link.url](https://cds-hooks.hl7.org/2.0/#link)",SHOULD,Service,,false,,
cds-hooks_2.0,111,https://cds-hooks.hl7.org/2.0/#source,"[When sending a Source object,] the icon field [SHALL be a] URL data type [and use a] absolute URL",SHALL,Service,,true,,
cds-hooks_2.0,112,https://cds-hooks.hl7.org/2.0/#source,"[When sending a Source object,] the icon field URL SHOULD be a 100x100 pixel PNG image without any transparent regions.",SHOULD,Service,,true,,
cds-hooks_2.0,113,https://cds-hooks.hl7.org/2.0/#source,"[When sending a Source object,] the icon field is optional",MAY,Service,,true,,
cds-hooks_2.0,114,https://cds-hooks.hl7.org/2.0/#source,"[When receiving a Source object,] the CDS Client may ignore or scale the image during display as appropriate for user experience.",MAY,Client,,true,,
cds-hooks_2.0,115,https://cds-hooks.hl7.org/2.0/#source,"[When sending a Source object,] the topic field [SHALL be a] [Coding](https://cds-hooks.hl7.org/2.0/#coding) type object",SHALL,Service,,true,,
cds-hooks_2.0,116,https://cds-hooks.hl7.org/2.0/#source,"[When sending a Source object,] the topic field is optional",MAY,Service,,true,,
cds-hooks_2.0,117,https://cds-hooks.hl7.org/2.0/#suggestion,"[When sending a Suggestion object,] the label field is required and [SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,118,https://cds-hooks.hl7.org/2.0/#suggestion,"[When sending a Suggestion object,] the uuid field is optional",MAY,Service,,true,,
cds-hooks_2.0,119,https://cds-hooks.hl7.org/2.0/#suggestion,"[When sending a Suggestion object,] the uuid field [SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,120,https://cds-hooks.hl7.org/2.0/#suggestion,"[When sending a Suggestion object,] the isRecommended field is optional",MAY,Service,,true,,
cds-hooks_2.0,121,https://cds-hooks.hl7.org/2.0/#suggestion,"[When sending a Suggestion object,] the isRecommended field [SHALL be a] boolean data type",SHALL,Service,,true,,
cds-hooks_2.0,122,https://cds-hooks.hl7.org/2.0/#suggestion,"[When sending a Suggestion object,] multiple suggestions MAY be recommended [using suggestion.isRecommended], if card.selectionBehavior is any.",MAY,Service,,true,,
cds-hooks_2.0,123,https://cds-hooks.hl7.org/2.0/#suggestion,"[When sending a Suggestion object,] the action field is optional",MAY,Service,,true,,
cds-hooks_2.0,124,https://cds-hooks.hl7.org/2.0/#suggestion,"[When sending a Suggestion object,] the action field [SHALL be a] array of [actions](https://cds-hooks.hl7.org/2.0/#action)",SHALL,Service,,true,,
cds-hooks_2.0,125,https://cds-hooks.hl7.org/2.0/#suggestion,"Within a suggestion, all actions … [SHALL use] AND [logic], such that a user selecting a suggestion selects all of the actions within it.",SHALL,"Client, Service",,true,,
cds-hooks_2.0,126,https://cds-hooks.hl7.org/2.0/#suggestion,"[When receiving a Suggestion object,] When a suggestion contains multiple actions, the actions SHOULD be processed as per FHIR's rules for processing [transactions](https://hl7.org/fhir/http.html#trules) with the CDS Client's fhirServer as the base url for the inferred full URL of the transaction bundle entries. (Specifically, deletes happen first, then creates, then updates).",SHOULD,Client,,true,,
cds-hooks_2.0,127,https://cds-hooks.hl7.org/2.0/#action,"[When sending an Action object,] the type field is required and [SHALL be a] string data type [with] values of create, update, delete.",SHALL,Service,,true,,
cds-hooks_2.0,128,https://cds-hooks.hl7.org/2.0/#action,"[When sending an Action object,] the description field is required and [SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,129,https://cds-hooks.hl7.org/2.0/#action,"[When sending an Action object,] the description field MAY be presented to the end-user",MAY,Service,,true,,
cds-hooks_2.0,130,https://cds-hooks.hl7.org/2.0/#action,"[When sending an Action object,] the resource field [SHALL be a] FHIR resource",SHALL,Service,,true,,
cds-hooks_2.0,131,https://cds-hooks.hl7.org/2.0/#action,"[When sending an Action object,] when the type attribute [of the Action object] is create, the resource attribute SHALL contain a new FHIR resource to be created.",SHALL,Service,,true,,
cds-hooks_2.0,132,https://cds-hooks.hl7.org/2.0/#action,"[When sending an Action object,] when the type attribute [of the Action object] is update, this holds the updated resource in its entirety and not just the changed fields.",SHALL,Service,,true,,
cds-hooks_2.0,133,https://cds-hooks.hl7.org/2.0/#action,"[When sending an Action object and when the type attribute of the Action object is delete], [the resource field SHALL NOT be used] to communicate a string of a FHIR id for delete suggestions",SHALL,Service,,true,,
cds-hooks_2.0,134,https://cds-hooks.hl7.org/2.0/#action,"[When sending an Action object and when the type attribute of the Action object is delete], the resourceID field SHOULD be provided",SHALL,Service,,true,,
cds-hooks_2.0,135,https://cds-hooks.hl7.org/2.0/#action,"[When sending an Action object,] the resourceID field [SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,136,https://cds-hooks.hl7.org/2.0/#reasons-for-rejecting-a-card,"[When sending card.overrideReason,] CDS Services MUST provide a human readable text in the display property",SHALL,Service,,true,,
cds-hooks_2.0,137,https://cds-hooks.hl7.org/2.0/#reasons-for-rejecting-a-card,CDS Clients MAY incorporate [the card.overrideReason.display] into their user interface,MAY,Client,,false,,
cds-hooks_2.0,138,https://cds-hooks.hl7.org/2.0/#link,"[When sending a Link object,] the label field is required [and SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,139,https://cds-hooks.hl7.org/2.0/#link,"[When sending a Link object,] the url field is required [and SHALL be a] URL data type",SHALL,Service,,true,,
cds-hooks_2.0,140,https://cds-hooks.hl7.org/2.0/#link,"[When sending a Link object,] the url field MAY be a ""deep link"" with context embedded in path segments, query parameters, or a hash.",MAY,Service,,true,,
cds-hooks_2.0,141,https://cds-hooks.hl7.org/2.0/#link,"[When sending a Link object,] the type field is required [and SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,142,https://cds-hooks.hl7.org/2.0/#link,"[When sending a Link object,] the type field [SHALL have values]  absolute … or smart. absolute indicates that the URL is absolute and should be treated as-is. smart indicates that the URL is absolute or smart indicates that the URL is a SMART app launch URL",SHALL,Service,,true,,
cds-hooks_2.0,143,https://cds-hooks.hl7.org/2.0/#link,"[When receiving a Link object and the link.type field is smart,] CDS Client should ensure the SMART app launch URL is populated with the appropriate SMART launch parameters.",SHOULD,Client,,true,,
cds-hooks_2.0,144,https://cds-hooks.hl7.org/2.0/#link,"[When sending a Link object,] the appContext field [SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,145,https://cds-hooks.hl7.org/2.0/#link,"[When sending a Link object,] the appContext field is optional",MAY,Service,,true,,
cds-hooks_2.0,146,https://cds-hooks.hl7.org/2.0/#link,"[When sending a Link object,] the appContext field should only be valued if the link type is smart",SHOULD,Service,,true,,
cds-hooks_2.0,147,https://cds-hooks.hl7.org/2.0/#link,"[When sending a Link object,] the appContext field  is not valid for absolute links [in other words, when link.type is absolute appContext SHALL NOT be populated]",SHALL NOT,Service,,true,,
cds-hooks_2.0,148,https://cds-hooks.hl7.org/2.0/#feedback,A CDS Service MAY support a feedback endpoint [to gather suggestion analytics from the CDS client],MAY,Service,,false,,
cds-hooks_2.0,149,https://cds-hooks.hl7.org/2.0/#feedback,a CDS Client SHOULD be capable of sending feedback [to send suggestion analytics to the CDS service],SHOULD,Client,,false,,
cds-hooks_2.0,150,https://cds-hooks.hl7.org/2.0/#feedback,CDS Clients should report ... end-user interactions as feedback.,SHOULD,Client,,false,,
cds-hooks_2.0,151,https://cds-hooks.hl7.org/2.0/#feedback,A CDS Client provides feedback by POSTing a JSON document,SHALL,Client,,false,,
cds-hooks_2.0,152,https://cds-hooks.hl7.org/2.0/#feedback,"The [service's] feedback endpoint can ([SHALL]) be constructed from the CDS Service endpoint and a path segment of ""feedback"" as {baseUrl}/cds-services/{service.id}/feedback",SHALL,Client,,true,,
cds-hooks_2.0,153,https://cds-hooks.hl7.org/2.0/#feedback,"The feedback endpoint [for submission] can ([SHALL]) be constructed from the CDS Service endpoint and a path segment of ""feedback"" as {baseUrl}/cds-services/{service.id}/feedback",SHALL,Client,,false,,
cds-hooks_2.0,154,https://cds-hooks.hl7.org/2.0/#feedback,The request to the feedback endpoint SHALL be an object containing an array [of [Feedback](https://cds-hooks.hl7.org/2.0/#feedback) objects],SHALL,Client,,false,,
cds-hooks_2.0,155,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the card field is required [and SHALL be a] string data type [containing] the card.uuid from the CDS Hooks response",SHALL,Client,,true,,
cds-hooks_2.0,156,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the outcome field is required [and SHALL be a] string data type [with a value of either] accepted or overridden",SHALL,Client,,true,,
cds-hooks_2.0,157,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the outcome field is required [and SHALL be a] string data type [with a value of either] accepted or overridden",SHALL,Client,,true,,
cds-hooks_2.0,158,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the acceptedSuggestions field is an array of json objects and is required [when feedback.outcome is accepted]",SHALL,Client,,true,,
cds-hooks_2.0,159,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the overrideReason field is a overrideReason object",SHALL,Client,,true,,
cds-hooks_2.0,160,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the overrideReason field is optional",MAY,Client,,true,,
cds-hooks_2.0,161,https://cds-hooks.hl7.org/2.0/#feedback,"[When sending a feedback object,] the outcomeTimestamp field is required [and SHALL be a] string data type [using the] [ISO8601](https://en.wikipedia.org/wiki/ISO_8601) representation of the date and time in Coordinated Universal Time (UTC) when action was taken on the card, as profiled in [section 5.6 of RFC3339](https://datatracker.ietf.org/doc/html/rfc3339#section-5.6)",SHALL,Client,,true,,
cds-hooks_2.0,162,https://cds-hooks.hl7.org/2.0/#suggestion-accepted,"[When sending an AcceptedSuggestion object], the id field is required [and SHALL be a] string data type [containing] card.suggestion.uuid from the CDS Hooks response",SHALL,Client,,true,,
cds-hooks_2.0,163,https://cds-hooks.hl7.org/2.0/#suggestion-accepted,"If either the card or the suggestion has no uuid, the CDS Client does not send a [feedback] notification",SHALL,Client,,true,,
cds-hooks_2.0,164,https://cds-hooks.hl7.org/2.0/#card-ignored,If the end-user doesn't interact with the CDS Service's card at all … the CDS Client [SHALL NOT] inform the CDS Service of the rejected guidance,SHALL NOT,Client,,true,,
cds-hooks_2.0,165,https://cds-hooks.hl7.org/2.0/#overridereason,"[When sending a overrideReason object,] the reason field is required if user selected an override reason from the list of reasons provided in the Card [and SHALL be a] coding object",SHALL,Client,,true,,
cds-hooks_2.0,166,https://cds-hooks.hl7.org/2.0/#overridereason,"[When sending a overrideReason object,] the userComment field is a string data type",SHALL,Client,,true,,
cds-hooks_2.0,167,https://cds-hooks.hl7.org/2.0/#overridereason,"[When sending a overrideReason object,] the userComment field is optional",MAY,Client,,true,,
cds-hooks_2.0,168,https://cds-hooks.hl7.org/2.0/#security-and-safety,"All data exchanged through the RESTful APIs MUST be transmitted over channels secured using the Hypertext Transfer Protocol (HTTP) over Transport Layer Security (TLS), also known as HTTPS and defined in [RFC2818](https://tools.ietf.org/html/rfc2818)",SHALL,"Client, Service",,false,,
cds-hooks_2.0,169,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,"Each CDS Client vendor/provider SHOULD maintain an ""allow list"" (and/or ""deny list"") of the CDS Services it has vetted",SHOULD,Client,,false,,
cds-hooks_2.0,170,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,"Each CDS Client vendor/provider SHOULD maintain an ""allow list"" (and/or ""deny list"") of ... the Card links that have been deemed safe to display from within the CDS Client context",SHOULD,Client,,false,,
cds-hooks_2.0,171,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,The CDS Service can be registered with the CDS Client's authorization server,MAY,Client,,false,,
cds-hooks_2.0,172,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,Every interaction between a CDS Client and a CDS Service is initiated by the CDS Client sending a service request to a CDS Service endpoint protected using the [Transport Layer Security protocol] (https://tools.ietf.org/html/rfc5246),SHALL,Client,,false,,
cds-hooks_2.0,173,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,CDS Client SHALL deny access to a requested resource if it is outside the user's authorized scope,SHALL,Client,,false,,
cds-hooks_2.0,174,https://cds-hooks.hl7.org/2.0/#trusting-cds-services,"If a CDS Client is satisfying prefetch requests from a CDS Service or sends a non-null fhirAuthorization object to a CDS Service so that it can call the FHIR server, the CDS Service MUST be pre-registered with the authorization server protecting access to the FHIR server",SHALL,Client,,true,,
cds-hooks_2.0,175,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[The CDS service] MAY use mutual TLS, in which both ends of the channel are authenticated.",MAY,Service,,false,,
cds-hooks_2.0,176,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[If not using mutual TLS,] to enable the CDS Service to authenticate the identity of the CDS Client, CDS Hooks uses digitally signed [JSON web tokens (JWT)](https://jwt.io/) [(rfc7519)](https://tools.ietf.org/html/rfc7519)",SHALL,Service,,true,,
cds-hooks_2.0,177,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,CDS Services SHOULD require authentication if invoking the service poses any risk of exposing sensitive data to the caller.,SHOULD,Service,,false,,
cds-hooks_2.0,178,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"Each time a CDS Client transmits a request to a CDS Service which requires authentication, the request MUST include an Authorization header presenting the JWT as a “Bearer” token:
Authorization:  Bearer {{JWT}}",SHALL,Client,,true,,
cds-hooks_2.0,179,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,mutual TLS MAY be used alongside JSON web tokens to establish trust of the CDS Client by the CDS Service,MAY,"Client, Service",,false,,
cds-hooks_2.0,180,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"The CDS Client MUST use its private key to digitally sign the JWT, using the [JSON Web Signatures (rfc7515)](https://tools.ietf.org/html/rfc7515) standard",SHALL,Client,,false,,
cds-hooks_2.0,181,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the alg field is required [and SHALL be a] string data type [containing] the cryptographic algorithm used to sign this JWT.",SHALL,Client,,true,,
cds-hooks_2.0,182,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the kid field is required [and SHALL be a] string data type [containing] the identifier of the key-pair used to sign this JWT.",SHALL,Client,,true,,
cds-hooks_2.0,183,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the kid field MUST be unique within the CDS Client's JWK Set.",SHALL,Client,,true,,
cds-hooks_2.0,184,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the typ field is required [and SHALL be a] string data type and SHALL be 'JWT'",SHALL,Client,,true,,
cds-hooks_2.0,185,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the jku field is a url data type [containing] the URL to the JWK Set containing the public key(s)",SHALL,Client,,true,,
cds-hooks_2.0,186,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT header,] the jku field is optional",MAY,Client,,true,,
cds-hooks_2.0,187,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the iss field is required [and SHALL be a] string data type [containing] the URI of the issuer of the JWT",SHALL,Client,,true,,
cds-hooks_2.0,188,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"The JWT MAY be self-issued by the CDS Client, or MAY be issued by a third-party identity provider.",MAY,Client,,true,,
cds-hooks_2.0,189,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the aud field is required [and SHALL be a] string data type or an array of strings [per [rfc7519](https://tools.ietf.org/html/rfc7519#section-4.1.3) containing] the CDS Service endpoint that is being called by the CDS Client",SHALL,Client,,true,,
cds-hooks_2.0,190,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the exp field is required [and SHALL be a] number data type [containing the] expiration time integer for this authentication JWT, expressed in seconds since the ""Epoch"" (1970-01-01T00:00:00Z UTC).",SHALL,Client,,true,,
cds-hooks_2.0,191,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the iat field is required [and SHALL be a] number data type [containing] the time at which this JWT was issued, expressed in seconds since the ""Epoch"" (1970-01-01T00:00:00Z UTC)",SHALL,Client,,true,,
cds-hooks_2.0,192,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the jti field is required [and SHALL be a] string data type [containing] a nonce string value that uniquely identifies this authentication JWT (used to protect against replay attacks)",SHALL,Client,,true,,
cds-hooks_2.0,193,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the tenant field is optional [SHALL be a] string data type [containing] an opaque string identifying the healthcare organization that is invoking the CDS Hooks request",MAY,Client,,true,,
cds-hooks_2.0,194,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"[When sending a JWT payload,] the tenant field  is optional",MAY,Client,,true,,
cds-hooks_2.0,195,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,CDS Services SHOULD limit the CDS Clients they trust by maintaining an allowlist of iss and jku urls.,SHOULD,Service,,false,,
cds-hooks_2.0,196,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"For CDS Hooks, [the aud] value MUST be the URL of the CDS Service endpoint being invoked",SHALL,Client,,false,,
cds-hooks_2.0,197,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"The CDS Client MUST make its public key, expressed as a JSON Web Key (JWK), available in a JWK Set, as defined by [rfc7517](https://tools.ietf.org/html/rfc7517)",SHALL,Client,,false,,
cds-hooks_2.0,198,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"The CDS Client MAY make its JWK Set available via a URL identified by the jku header field, as defined by [rfc7515 4.1.2](https://tools.ietf.org/html/rfc7515#section-4.1.2)",MAY,Client,,false,,
cds-hooks_2.0,199,https://cds-hooks.hl7.org/2.0/#trusting-cds-clients,"If the jku header field is ommitted, the CDS Client and CDS Service SHALL communicate the JWK Set out-of-band.",SHALL,"Client, Service",,true,,
cds-hooks_2.0,200,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,[JSON Web Algorithms (rfc7518)](https://tools.ietf.org/html/rfc7518) defines several cryptographic algorithms for use in signing JWTs and should be referenced by CDS Hooks implementers.,SHOULD,"Client, Service",,false,,
cds-hooks_2.0,201,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,"JWTs SHALL NOT be signed using the none algorithm, referred to in rfc7518 as unsecured JSON Web Signatures, [and Services SHALL NOT accept these JWTs] as the lack of a cryptographic signature does not provide any integrity protection.",SHALL NOT,Service,,false,,
cds-hooks_2.0,202,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,"JWTs SHALL NOT be signed [by Clients] using the none algorithm, referred to in rfc7518 as unsecured JSON Web Signatures, as the lack of a cryptographic signature does not provide any integrity protection.",SHALL NOT,Client,,false,,
cds-hooks_2.0,203,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,JWTs SHALL NOT be signed using any symmetric algorithm as these algorithms require the CDS Client and CDS Service to share a private key in order to verify the signature,SHALL NOT,"Client, Service",,false,,
cds-hooks_2.0,204,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,"When choosing an algorithm to sign their JWTs, CDS Clients SHOULD consider not only the algorithms (and key sizes) that are recommended within the security industry, but also how well those algorithms are supported in the various programming languages and libraries that may be used by CDS Services.",SHOULD,Client,,false,,
cds-hooks_2.0,205,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,"At publication time of this specification, both ES384 and RS384 are RECOMMENDED for their regard within the larger security industry, strength, and support across popular programming languages and libraries.",SHOULD,"Client, Service",,false,,
cds-hooks_2.0,206,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,"Stronger and better algorithms [than ES384 and RS384] are continually being introduced due to new threats, weaknesses, and increases in computing power [and] CDS Clients SHOULD continually re-evaluate their choice of an algorithm based upon these ever changing conditions.",SHOULD,"Client, Service",,false,,
cds-hooks_2.0,207,https://cds-hooks.hl7.org/2.0/#jwt-signing-algorithm,CDS Services SHOULD consider the algorithms they understand and trust based upon their tolerance for risk.,DEPRECATED,Service,,false,,
cds-hooks_2.0,208,https://cds-hooks.hl7.org/2.0/#cross-origin-resource-sharing,CDS Services and browser-based CDS Clients will require CORS support. [Cross-origin resource sharing (CORS)](https://www.w3.org/TR/cors/) is a [World Wide Web Consortium (W3C)](https://www.w3.org/Consortium/) standard mechanism that uses additional HTTP headers to enable a web browser to gain permission to access resources from an Internet domain different from that which the browser is currently accessing.,SHALL,"Client, Service",,true,,
cds-hooks_2.0,209,https://cds-hooks.hl7.org/2.0/#update-stale-guidance,"In the case that CDS Hooks cards are persisted, clients should take care to ensure that stale guidance does not negatively impact patient care.",SHOULD,Client,,true,,
cds-hooks_2.0,210,https://cds-hooks.hl7.org/2.0/#update-stale-guidance,CDS Services can update their previously returned guidance by returning a new set of cards when the service is invoked based on a different hook,MAY,Service,,true,,
cds-hooks_2.0,211,https://cds-hooks.hl7.org/2.0/#update-stale-guidance,CDS Services indicate [intent to update an existing card] by providing multiple CDS Services with the same id in discovery.,SHALL,Service,,true,,
cds-hooks_2.0,212,https://cds-hooks.hl7.org/2.0/#update-stale-guidance,[When updating a card] Clients are recommended to remove cards returned by a previous invocation with the new cards.,SHOULD,Service,,true,,
cds-hooks_2.0,213,https://cds-hooks.hl7.org/2.0/#update-stale-guidance,Note that CDS Services will need to negotiate with CDS Clients to ensure that hooks that are required to ensure patient safety are supported by the CDS Client,SHALL,Service,,true,,
cds-hooks_2.0,214,https://cds-hooks.hl7.org/2.0/#extensions,The value of an extension element MUST be a pre-coordinated JSON object,SHALL,"Client, Service",,false,,
cds-hooks_2.0,215,https://cds-hooks.hl7.org/2.0/#extensions,"Extension structures SHOULD use a strategy for naming that ensures global uniqueness, such as reverse-domain-name notation",SHOULD,"Client, Service",,false,,
cds-hooks_2.0,216,https://cds-hooks.hl7.org/2.0/#coding,"[When sending a coding object,] the code field is required [and SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,217,https://cds-hooks.hl7.org/2.0/#coding,"[When sending a coding object,] the system field is required [and SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,218,https://cds-hooks.hl7.org/2.0/#coding,"[When sending a coding object,] the code field is required [and SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,219,https://cds-hooks.hl7.org/2.0/#coding,"[When sending a coding object,] the display field is human-readable display required [when] [Override Reasons](https://cds-hooks.hl7.org/2.0/#overridereason) provided by CDS Service [are sent in card.overrideReason and SHALL be a] string data type",SHALL,Service,,true,,
cds-hooks_2.0,220,https://cds-hooks.hl7.org/2.0/#coding,"[When sending a coding object,] the display field is human-readable display [which is] OPTIONAL  [when sending source.topic]",SHALL,Service,,true,,
hl7.fhir.us.davinci-crd_2.0.1,1,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#foundational-requirements,"Future versions of this specification will evolve based on implementer feedback. Therefore, CRD servers and CRD clients MAY mutually agree to support additional hooks, additional card patterns, additional resources, additional extensions, etc. not found in this specification.",MAY,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,2,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#mustsupport,"For CRD clients, If the client maintains the data element and surfaces it to users, then it SHALL be exposed in their FHIR interface when the data exists and privacy constraints permit",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,3,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#mustsupport,"For CRD servers, the server SHALL leverage mustSupport elements as available and appropriate to provide decision support.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,4,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,CRD services SHALL return responses for all [supported hooks](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#hook-categories),SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,5,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,CRD services SHALL ... respond within the required time 90% of the time.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,6,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,For [the [Orders Select Hook](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select)] the ... target [response] time is 5 seconds.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,7,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,For [the [Encounter Stat Hook](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start)] ... target [response] time is 5 seconds.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,8,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,For [the [Encounter Discharge Hook](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge)] the ... target [response] time is 5 seconds.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,9,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,For [the [Appointment Book Hook](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book)] the ... target [response] time is 5 seconds. [and] It extends to 10 seconds .. [when] sent at least 24 hours after the last hook invocation for the same order,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,10,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,For [the [Order Dispatch Hook](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-dispatch) the] ... target [response] time is 5 seconds [and] It extends to 10 seconds .. [when] sent at least 24 hours after the last hook invocation for the same order,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,11,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,For [the [Order Sign Hook](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign)] the ... target [response] time is 5 seconds [and] It extends to 10 seconds .. [when] sent at least 24 hours after the last hook invocation for the same order,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,12,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,Systems should provide the best information they can in a timely fashion and rely on other layers of the payment and adjudication process to catch issues that require longer processing.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,13,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"Where a payer responds with a “coverage information” code of ‘clinical’... and the payer supports DTR, they SHOULD support gathering the additional information via DTR.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,14,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"Where a payer responds with a “coverage information” code of ... ‘admin’ and the payer supports DTR, they SHOULD support gathering the additional information via DTR.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,15,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,CRD services are encouraged to leverage hooks fired earlier in the workflow (even if they do not provide decision support in response to those hooks) as an opportunity to begin caching relevant information for use when providing responses to later hooks.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,16,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"A determination that additional information is needed (e.g., via DTR) is considered to be a valid response.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,17,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"Where a payer responds with a coverage information doc-needed code of 'clinical'... and the payer supports DTR, they SHOULD support gathering the additional information via DTR.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,18,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"Where a payer responds with a coverage information doc-needed code of … 'admin',… and the payer supports DTR, they SHOULD support gathering the additional information via DTR.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,19,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"Where a payer responds with a coverage information doc-needed code of ... 'patient' and the payer supports DTR, they SHOULD support gathering the additional information via DTR.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,20,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"If a CRD service exceeds the allocated time window for a hook (i.e., for those circumstances that fall outside the 90% expectation), CRD clients SHOULD establish a time-out process that ensures users are not blocked from proceeding with their business flow.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,21,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"Where a CRD client opts to not block users from proceeding for responses that come back in a period of time shorter than the target time window in this guide (i.e., 5s or 10s), the client must ensure that users are made aware of the information when it is available.",SHALL,Client,,true,,
hl7.fhir.us.davinci-crd_2.0.1,22,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#performance,"For responses that come back in a time period that exceeds this duration, [ 5s or 10s] CRD clients MAY ignore the resulting cards and/or system actions.",MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,23,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#accuracy,"CDS services SHALL ensure that the guidance returned with respect to coverage... (e.g., assertions that a service is covered...) is as accurate as guidance that would be provided by other means (e.g., portals, phone calls).",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,24,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#accuracy,"CDS services SHALL ensure that the guidance returned with respect to ... prior authorizations (e.g., assertions that... prior authorization is not necessary) is as accurate as guidance that would be provided by other means (e.g., portals, phone calls).",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,25,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#terminology,"Where the selected code is not already a billing code and CRD clients are able to automatically determine what the corresponding billing code is, they SHOULD send a Coding with the billing code alongside the clinical code to reduce the risk of the receiving payer making a different translation.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,26,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#appropriate-use-of-hooks,Payers and service providers SHALL ensure that CDS Hooks return only messages and information relevant and useful to the intended recipient.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,27,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,The CRD service is responsible for any internal routing based on which processing organization handles the decisions.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,28,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,Provider and EHR vendor organizations MAY leverage the [payer registry](http://hl7.org/fhir/us/davinci-pdex-plan-net)  developed by PDex (which will eventually fold into the national directory under [FAST](https://confluence.hl7.org/display/FAST/National+Healthcare+Directory)) as a means of determining which endpoints exist for which payers as candidates for configuration.,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,29,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,"Once plans are in the national directory, CRD clients SHOULD include that plan identifier as a way to uniquely identify that plan.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,30,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,All CRD clients will need to be configured to support communicating to a particular CRD server. This configuration process includes the following: … Confirming that the CRD server can legitimately act on behalf of one or more payers,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,31,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,All CRD clients will need to be configured to support communicating to a particular CRD server. This configuration process includes the following: … Confirming that the CRD server can be trusted to receive and handle PHI,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,32,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,All CRD clients will need to be configured to support communicating to a particular CRD server. This configuration process includes the following: ...Determining which hook(s) to enable for that CRD server,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,33,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,All CRD clients will need to be configured to support communicating to a particular CRD server. This configuration process includes the following: … Determining what scopes to provide the CRD server for access tokens issued to the service,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,34,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,"In order to initiate this process, the payer responsible for a given CRD Server must communicate with the relevant CRD client software vendor or provider organization and share the following information: … The URL of their server",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,35,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,"In order to initiate this process, the payer responsible for a given CRD Server must communicate with the relevant CRD client software vendor or provider organization and share the following information: ... Which hook types it supports",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,36,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#enabling-a-crd-server,"In order to initiate this process, the payer responsible for a given CRD Server must communicate with the relevant CRD client software vendor or provider organization and share the following information: ... What scopes it needs to perform its full function (and why)",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,37,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#crd-access-tokens,The CRD client SHOULD limit the scopes provided in their access token to those identified by the CRD service as necessary to perform their decision support.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,38,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#crd-access-tokens,Such access tokens [identified by the CRD service as necessary to perform their decision support]] SHOULD have an expiration time of no longer than 30 seconds which should be sufficient for even 'parallel' decision support with something like 'Order Select' where a user is continuing to work while the decision support call is processing.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,39,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-data-retrieval,"For this release of the IG, conformant CRD clients SHOULD support the CDS Hooks [prefetch]( https://cds-hooks.hl7.org/2.0/#prefetch-template) capability",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,40,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-data-retrieval,"For this release of the IG, conformant CRD clients ... where needed, SHOULD implement interfaces to [_include](http://hl7.org/fhir/R4/search.html#include) resources not available in the system's database.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,41,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-data-retrieval,Prefetch requests SHOULD only include information that is always expected to be needed for each hook invocation.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,42,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-data-retrieval,"When information is only needed for certain invocations of the hook (e.g., for specific types of medications or services), that information SHALL only be retrieved by query using the provided token, never requested universally via prefetch.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,43,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-data-retrieval,"The base requirement for these queries, whether based on Encounter or one of the request resources, is to bring back the following associated resources:

-Patient
-Relevant Coverage
-Authoring Practitioner
-Authoring Organization
-Requested performing Practitioner (if specified)
-Requested performing Organization (if specified)
-Requested Location (if specified)
-Associated Medication (if any)
-Associated Device (if any)",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,44,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"In addition to the [base prefetch capabilities](https://cds-hooks.hl7.org/2.0/#prefetch-template) defined in the CDS Hooks specification, systems that support prefetch SHOULD support the [additional prefetch capabilities](https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-prefetch-capabilities) defined in this specification.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,45,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries ... SHOULD be supported for [Appointment]: ... 

```Appointment?_id={{context.appointments.Appointment.id}}
&_include=Appointment:patient
&_include=Appointment:practitioner:PractitionerRole
&_include:iterate=PractitionerRole:organization
&_include:iterate=PractitionerRole:practitioner
&_include=Appointment:location```",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,46,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,standard' prefetch queries... SHOULD be supported for each type of resource: ... Coverage?patient={{context.patient}},SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,47,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries  SHOULD be supported for [Device Request]: ... 

```DeviceRequest?_id={{context.draftOrders.DeviceRequest.id}}
&_include=DeviceRequest:patient
&_include=DeviceRequest:performer
&_include=DeviceRequest:requester
&_include=DeviceRequest:device
&_include:iterate=PractitionerRole:organization
&_include:iterate=PractitionerRole:practitioner```",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,48,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries ... SHOULD be supported for [Encounter]: ...

```Encounter?_id={{context.encounterId}}
&_include=Encounter:patient
&_include=Encounter:service-provider
&_include=Encounter:practitioner
&_include=Encounter:location```",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,49,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries  SHOULD be supported for [MedicationRequest]: ... 

```MedicationRequest?_id={{context.draftOrders.MedicationRequest.id}}
&_include=MedicationRequest:patient
&_include=MedicationRequest:intended-dispenser
&_include=MedicationRequest:requester:PractitionerRole
&_include=MedicationRequest:medication
&_include:iterate=PractitionerRole:organization
&_include:iterate=PractitionerRole:practitioner```",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,50,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries that SHOULD be supported for [NutritionOrder]: ... 

```NutritionOrder?_id={{context.draftOrders.NutritionOrder.id}}
&_include=NutritionOrder:patient
&_include=NutritionOrder:provider
&_include=NutritionOrder:requester
&_include:iterate=PractitionerRole:organization
&_include:iterate=PractitionerRole:practitioner
&_include=NutritionOrder:encounter
&_include:iterate=Encounter:location```",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,51,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,"'standard' prefetch queries SHOULD be supported for [ServiceRequest]: ...

```ServiceRequest?_id={{context.draftOrders.ServiceRequest.id}}
&_include=ServiceRequest:patient
&_include=ServiceRequest:performer
&_include=ServiceRequest:requester
&_include:iterate=PractitionerRole:organization
&_include:iterate=PractitionerRole:practitioner```",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,52,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,CRD clients MAY support only the resources needed to implement the relevant CDS Hooks and order types.,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,53,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,CRD client implementations SHOULD NOT expect standardized prefetch key names.,SHOULD NOT,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,54,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,CRD clients supporting prefetch SHALL inspect the CDS Hooks discovery endpoint to determine exact prefetch key names and queries.,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,55,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#prefetch,CRD clients SHOULD limit the coverages provided to just those relevant to the CRD service.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,56,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#fhir-resource-access,"If information needed is not provided by prefetch, the CRD server can query the client directly using the [FHIR resource access mechanism](https://cds-hooks.hl7.org/2.0/#fhir-resource-access) defined in the CDS Hooks specification.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,57,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#fhir-resource-access,"In either case [using individual queries or by invoking a batch of separate queries], the HTTP call that performs the query or executes the batch must pass the fhirAuthorization.accessToken in the authorization header as defined in the [OAuth specification](https://www.oauth.com/oauth2-servers/accessing-data/making-api-requests)",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,58,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#query-notes,Conformant CRD clients SHOULD be able to perform [respond to] all the queries defined here [[FHIR Resource Access](https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#fhir-resource-access)],SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,59,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#query-notes,"Conformant CRD clients ... where needed, SHOULD implement interfaces to [_include](http://hl7.org/fhir/R4/search.html#include) resources not available in the client's database.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,60,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#query-notes,"If parties processing these queries have varied from these ‘standard’ search parameter names (as indicated by navigating their CapabilityStatements), the CRD Server will be responsible for translating the parameters into the CRD client’s local names.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,61,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#query-notes,"When full prefetch as defined here is not supported, CRD clients SHOULD, at minimum, support the batch query syntax shown [above]( https://build.fhir.org/ig/HL7/davinci-crd/foundation.html#fhir-resource-access)",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,62,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#query-notes,"CRD servers MAY choose to support the batch query mechanism, perform client-specific queries as necessary, or return no results when a client does not support its prefetch requirements",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,63,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#query-notes,CRD servers SHALL provide what coverage requirements they can based on the information available.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,64,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"CRD Clients conforming with this specification [using  SMART on FHIR apps to invoke coverage requirements discovery from CRD servers for ""what if"" scenarios] SHALL support the SMART on FHIR interface,",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,65,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"CRD clients conforming with this [using SMART on FHIR apps to invoke coverage requirements discovery from CRD servers for ""what if"" scenarios] specification … SHALL allow launching of SMART apps from within their application",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,66,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"CRD clients conforming with this [using SMART on FHIR apps to invoke coverage requirements discovery from CRD servers for ""what if"" scenarios] specification ...   SHALL be capable of providing the SMART app access to information it exposes to CRD servers using the CDS Hooks interface.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,67,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"The app/CRD client MAY choose to use configuration options to control what types of cards are of interest [when using SMART on FHIR apps to invoke coverage requirements discovery from CRD servers for ""what if"" scenarios]",MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,68,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"In the specific case of order-based hooks, ""what if"" SHOULD use the Order Sign hook",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,69,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"In the specific case of order-based hooks, ""what if"" ... SHALL use the configuration option that prevents the return of an unsolicited determination",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,70,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#smart-on-fhir-hook-invocation,"In the specific case of order-based hooks, ""what if"" ... MAY use configuration options to prevent the return of other irrelevant types of cards (e.g., duplicate therapy).",MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,71,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"When CRD clients pass resources to a CRD server as part of context, the resources SHALL have an ID",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,72,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"When CRD clients pass resources to a CRD server as part of context, the resources ... SHALL be usable as a target for references in resources manipulated by CDS Hook actions and/or by SMART apps.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,73,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,CRD client must handle adjustments to any references made to … [resource ids] (or provide necessary redirects) ensuring that any references made to the in-memory resource will remain valid.,DEPRECATED,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,74,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"CRD clients will need to support the creation or updating of resources that include references to resources that might, at the time, only exist in memory and not yet be available as persistent entities.",DEPRECATED,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,75,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"Therefore, in addition to any logging performed for security purposes, ... CRD Clients ... SHALL retain logs of all CRD-related hook invocations and their responses for access in the event of a dispute.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,76,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"Therefore, in addition to any logging performed for security purposes, ... CRD Servers SHALL retain logs of all CRD-related hook invocations and their responses for access in the event of a dispute.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,77,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,All `Card.suggestion` elements SHALL populate the `Suggestion.uuid` element to aid in log reconciliation.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,78,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,Organizations SHALL have processes to ensure logs can be accessed by appropriate authorized users to help resolve discrepancies or issues in a timely manner.,SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,79,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"Because the information in these logs will often contain PHI, access to the logs themselves will need to be restricted ... for security purposes.",SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,80,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,"Because the information in these logs will often contain PHI, access to the logs themselves will need to be ... logged for security purposes.",SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,81,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,CRD Clients SHOULD ensure that multiple cards with the same “advice” are handled in a way that will not create a burden on the user.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,82,https://hl7.org/fhir/us/davinci-crd/STU2/foundation.html#additional-considerations,Conformance systems SHOULD omit non-significant whitespace for performance reasons.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,83,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: … FHIR Core: [Security & Privacy Module](http://hl7.org/fhir/R4/secpriv-module.html),SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,84,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: FHIR Core: ... [Security Principles](http://hl7.org/fhir/R4/security.html),SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,85,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: FHIR Core: ... [Implementer’s Checklist](http://hl7.org/fhir/R4/safety.html),SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,86,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: … HRex: [Privacy & Security](http://hl7.org/fhir/us/davinci-hrex/STU1/security.html),SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,87,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: … CDS Hooks: [Security & Safety](https://cds-hooks.hl7.org/2.0/#security-and-safety),SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,88,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Implementers SHALL adhere to any security and privacy rules defined by: … SMART on FHIR: [SMART App Launch](http://www.hl7.org/fhir/smart-app-launch),SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,89,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,"As per the CDS Hook specification, communications between CRD Clients and CRD Servers SHALL use TLS.",SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,90,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Mutual TLS is not required by this specification but is permitted.,MAY,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,91,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,CRD Servers and CRD Clients SHOULD enforce a minimum version and other TLS configuration requirements based on [HRex rules for PHI exchange](https://hl7.org/fhir/us/davinci-hrex/STU1/security.html#exchange-of-phi-for-treatment-payment-operations-tpo-as-defined),SHOULD,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,92,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,CRD Clients SHALL support running applications that adhere to the SMART on FHIR [confidential app](http://www.hl7.org/fhir/smart-app-launch#support-for-public-and-confidential-apps) profile.,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,93,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,CRD Servers SHALL use information received solely for coverage determination and decision support purposes,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,94,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,CRD Servers … SHALL NOT retain data received over the CRD interfaces for any purpose other than audit or providing context for form completion using DTR.,SHALL NOT,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,95,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,"CRD Clients are the final arbiters of what data can or cannot be shared with CRD Servers and SHOULD filter or withhold any resources or data elements necessary to support their obligations as health data custodians, including ... patient consent-based restrictions.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,96,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,"CRD Clients are the final arbiters of what data can or cannot be shared with CRD Servers and SHOULD filter or withhold any resources or data elements necessary to support their obligations as health data custodians, including legal...restrictions.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,97,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,"CRD Clients are the final arbiters of what data can or cannot be shared with CRD Servers and SHOULD filter or withhold any resources or data elements necessary to support their obligations as health data custodians, including ... policy restrictions.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,98,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,CRD Clients SHALL ensure that the resource identifiers exposed over the CRD interface are distinct from and have no determinable relationship with any business identifiers associated with those records.,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,99,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,Access to patient information to meet decision support requirements is still subject to regulations such as HIPAA “minimum necessary” and CRD clients SHOULD audit access to check for reasonableness and appropriateness.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,100,https://hl7.org/fhir/us/davinci-crd/STU2/security.html#privacy-security-and-safety,All information sharing that occurs through making CRD calls is subject to the privacy and security considerations documented [here](http://hl7.org/fhir/us/davinci-hrex/STU1/security.html),SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,101,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#cds-hook-deviations-and-enhancements,Implementers MAY choose to provide support for this new [[order-dispatch hook](https://cds-hooks.org/hooks/order-dispatch)]] hook.,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,102,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-scope,"This IG adopts the newer wording, meaning that the order-sign hook can be triggered … on newly created orders.",MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,103,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-scope,"This IG adopts the newer wording, meaning that the order-sign hook can be triggered … when orders are updated (changing status, changing time-frame, etc.).",MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,104,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-resources,CRD has use-cases for additional resource types to be passed to … [the `order-select`]  hook. Specifically: … [CommunicationRequest](http://hl7.org/fhir/R4/communicationrequest.html),MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,105,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-resources,CRD has use-cases for additional resource types to be passed to … [the `order-sign`]  hook. Specifically: … [CommunicationRequest](http://hl7.org/fhir/R4/communicationrequest.html),MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,106,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-resources,CRD has use-cases for additional resource types to be passed to [the `order-select`] hook. Specifically: … [Task](http://hl7.org/fhir/R4/task.html),SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,107,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-hook-resources,CRD has use-cases for additional resource types to be passed to [the `order-sign`] hook. Specifically: … [Task](http://hl7.org/fhir/R4/task.html),SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,108,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#new-hook-configuration-mechanism,The [CDS Service Discovery Response](https://cds-hooks.hl7.org/2.0/#response) object that describes the service’s capabilities will include an extension that describes what [configuration options](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-CDSHookServicesExtensionConfiguration.html) can be set by the CRD Client,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,109,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#new-hook-configuration-mechanism,The hook’s [HTTP Request](https://cds-hooks.hl7.org/2.0/#http-request_1) object will include an extension to pass specific configuration settings as part of the hook invocation,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,110,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,"Each option [within the davinci-crd.configuration-options extension]  SHALL include...  A `code` that will be used when setting configuration during hook invocation, and has an [(extensible)](http://www.hl7.org/fhir/terminologies.html#extensible) binding to the [CRD Card Types](https://hl7.org/fhir/us/davinci-crd/STU2/ValueSet-cardType.html) ValueSet.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,111,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,"Each option [within the davinci-crd.configuration-options extension]  SHALL include ... A data `type` for the parameter. At present, allowed values are “boolean” and “integer”. (NOTE: These are the JSON data types and not the FHIR data types.)",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,112,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,Each option [within the davinci-crd.configuration-options extension]  SHALL include  ... A display `name` for the configuration option to appear in the client’s user interface when performing configuration.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,113,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,Each option [within the davinci-crd.configuration-options extension]  SHALL include ... A `description` providing a 1-2 sentence description of the effect of the configuration option.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,114,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,A `default` value SHALL also be provided [in the `davinci-crd.configuration-options` extension] to show users what to expect when an override is not specified.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,115,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,"CRD servers SHALL, at minimum, offer configuration options for each type of card they support (with a code corresponding to the [CRD Card Types](https://hl7.org/fhir/us/davinci-crd/STU2/ValueSet-cardType.html) ValueSet",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,116,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,"CRD servers SHALL, at minimum, offer configuration options for each type of card they support (with a code corresponding to ... a type of ‘boolean’, where setting the flag to false will result in the server not returning any cards of the specified type).",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,117,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,payer services SHALL gracefully handle disallowed/nonsensical combinations [within client-provided configuration options] I.e. the CRD Server must: allow for the possibility that CRD Clients might not adhere to their co-occurrence rules,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,118,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,payer services SHALL gracefully handle disallowed/nonsensical combinations [within client-provided configuration options].I.e. the CRD Server must: ... include explicit checks of inbound data for adherence to rules;,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,119,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,payer services SHALL gracefully handle disallowed/nonsensical combinations [within client-provided configuration options]. I.e. the CRD Server must:... indicate that CRD checking could not be done and log appropriate information to allow engagement with CRD Clients to address any payer-specific needs.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,120,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,[Within client configuration options] Codes SHALL be valid JSON property names,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,121,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,[Within client configuration options] Codes SHALL ... come from the [CRD Card Types](https://hl7.org/fhir/us/davinci-crd/STU2/ValueSet-cardType.html) list if an applicable type is in that list.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,122,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,"Codes, names, and descriptions [within client configuration options] SHALL be unique within a [CDS Service](https://cds-hooks.hl7.org/2.0/#response) definition.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,123,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,"[Codes, names, and descriptions within client configuration options] SHOULD be consistent across different hooks supported by the same payer when dealing with the same types of configuration options.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,124,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#configuration-options-extension,Payer services providing more than one type of coverage requirement information/guidance SHOULD expose configuration options allowing clients to dynamically control what information is returned by the service.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,125,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,Where CRD Clients support the optional configuration options... CRD Clients SHOULD expose configuration options through a configuration screen to allow users and/or system administrators to control the types of information returned.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,126,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,Where CRD Clients support the optional configuration options  ... CRD Clients SHALL convey configuration options when invoking the hook using the davinci-crd.configuration extension. It will be a single object whose properties will be drawn from the code values from configuration options and whose values will be of the type defined for that option.,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,127,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,"Where CRD Clients support the optional configuration options ... CRD Clients SHOULD provide an ability to leverage the dynamic configuration capabilities of payer services based on provider role, individual provider, and/or hook invocation location as best meets the needs of their users.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,128,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,Because support for some configuration is required for all CRD servers … CRD Servers SHALL behave in the manner prescribed by any supported configuration information received from the CRD Client.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,129,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,Because support for some configuration is required for all CRD servers ... CRD Servers SHALL NOT require the inclusion of configuration information in a hook call (i.e. no hook invocation is permitted to fail because configuration information was not included).,SHALL NOT,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,130,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,Because support for some configuration is required for all CRD servers  ... CRD Clients MAY send configuration information that CRD Servers do not support.,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,131,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#hook-configuration-extension,Because support for some configuration is required for all CRD servers ...  the CRD Server SHALL ignore ... unsupported configuration information.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,132,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-prefetch-capabilities,"Specifically, where a hook defines a context element that consists of a resource or collection of resources (e.g. [order-select.draftOrders](https://cds-hooks.hl7.org/hooks/order-select/2020May/order-select.html#context) or [order-sign.draftOrders](https://cds-hooks.hl7.org/hooks/order-sign/2020May/order-sign#context)), systems SHALL recognize context tokens of the form `context.<context property>.<FHIR resource name>.id` in prefetch queries.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,133,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-prefetch-capabilities,[context tokens of the form `context.<context property>.<FHIR resource name>.id` in prefetch queries] SHALL evaluate to a comma-separated list of the identifiers of all resources of the specified type within that context key.,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,134,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-response-capabilities,"Creating a Task to complete a Questionnaire; and
In this case, the creation of the Questionnaire needs to be conditional - it SHOULD only occur if that specific Questionnaire version doesn’t already exist",DEPRECATED,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,135,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#additional-response-capabilities,[When] creating a Task to complete a Questionnaire ... the payer service SHALL query to determine if the client has a copy of the Questionnaire before sending the request.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,136,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#if-none-exist,"The `suggestion.action` object will use an extension to carry the if-none-exist query, as per FHIR’s [conditional create](http://hl7.org/fhir/R4/http.html#ccreate) functionality. The extension property will be `davinci-crd.if-none-exist`",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,137,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#linkage-between-created-resources,the inclusion of the `id` element in ‘created’ resources and references in created and updated resources within multi-action suggestions SHALL be handled as per [FHIR’s transaction processing rules](http://hl7.org/fhir/R4/http.html#trules).,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,138,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#linkage-between-created-resources,"if a FHIR Reference points to the resource type and `id` of a resource of another ‘create’ Action in the same Suggestion, then the reference to that resource SHALL be updated by the server to point to the `id` assigned by the client when performing the ‘create’.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,139,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#linkage-between-created-resources,CRD Clients SHALL perform ‘creates’ in an order that ensures that referenced resources are created prior to referencing resources.,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,140,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#linking-cards-to-requests,"If a hook service is invoked on a collection of resources, all cards returned that are specific to only a subset of the resources passed as context SHALL disambiguate in the `detail` element which resources they’re associated with in a human-friendly way.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,141,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#linking-cards-to-requests,"If a hook service is invoked on a collection of resources, ... cards SHOULD include … [the `davinci-associated-resource`] extension [listing each resource from the collection it is associated with] to allow computable linkage.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,142,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#controlling-hook-invocation,Provider systems SHALL only invoke hooks on payer services where the patient record indicates active coverage with the payer associated with the service,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,143,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#controlling-hook-invocation,Providers MAY limit hook invocation to only those payers that are believed to potentially have relevant information related to the current action,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,144,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#controlling-hook-invocation,CRD clients SHALL select from those coverages which is most likely to be primary and only solicit coverage information for that one payer.,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,145,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#controlling-hook-invocation,"If they invoke CRD on other payers, CRD clients SHALL ensure that card types that return coverage information are disabled for those ‘likely secondary’ payers.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,146,https://hl7.org/fhir/us/davinci-crd/STU2/deviations.html#controlling-hook-invocation,"Where the patient has multiple active coverages that the CRD client deems appropriate to call the respective CRD servers for, the CRD client SHALL invoke all CRD server calls in parallel and display results simultaneously to ensure timely response to user action.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,147,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,the `order-select` hook SHOULD fire whenever a user of a CRD Client creates a new order or referral.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,148,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"CRD Clients conforming to this implementation guide SHALL be able to determine the correct payer CRD Service to use for each request. [appointment-book, encounter-start, encounter-discharge, order-dispatch, order-select, and order-sign]",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,149,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"CRD Clients conforming to this implementation guide SHALL support at least one of the hooks [appointment-book, encounter-start, encounter-discharge, order-dispatch, order-select, and order-sign]",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,150,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"CRD Clients conforming to this implementation guide SHALL support ... (for order-centric hooks), at least one of the order resource types [CommunicationRequest, DeviceRequest, MedicationRequest, ServiceRequest, NutritionOrder, VisionPrescription]",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,151,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"CRD Clients conforming to this implementation guide ... SHOULD support all [CommunicationRequest, DeviceRequest, MedicationRequest, ServiceRequest, NutritionOrder, VisionPrescription] that apply to the context of their system.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,152,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,CRD Servers conforming to this implementation guide SHALL provide a service for all hooks ... required of CRD clients by this implementation guide unless the server has determined that the hook will not be reasonably useful in determining coverage or documentation expectations for the types of coverage provided.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,153,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,CRD Servers conforming to this implementation guide SHALL provide a service for all ... order resource types required of CRD clients by this implementation guide unless the server has determined that the hook will not be reasonably useful in determining coverage or documentation expectations for the types of coverage provided.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,154,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,CRD Clients … MAY choose to support additional hooks available in the registry on the [CDS Hooks continuous integration build](https://cds-hooks.org/) or custom hooks defined elsewhere.,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,155,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,CRD ... Servers MAY choose to support additional hooks available in the registry on the [CDS Hooks continuous integration build](https://cds-hooks.org/) or custom hooks defined elsewhere.,MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,156,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,[Clients who choose to support additional hooks] SHOULD adhere to the conformance expectations defined in this specification for any hooks listed here.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,157,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,[Servers who choose to support additional hooks] SHOULD adhere to the conformance expectations defined in this specification for any hooks listed here.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,158,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"In the absence of guidance from the CDS Hooks specification, CRD Servers are expected to conform to the following rules when responding to requests from a CRD Client: If the CRD Server encounters an error when processing the request, the system SHALL return an appropriate error HTTP Response Code, starting with the digit “4” or “5”, indicating that there was an error.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,159,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"In the absence of guidance from the CDS Hooks specification, CRD Servers are expected to conform to the following rules when responding to requests from a CRD Client: ... The CRD Server SHOULD provide an OperationOutcome for internal issue tracking by the client system.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,160,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"In the absence of guidance from the CDS Hooks specification, CRD Servers are expected to conform to the following rules when responding to requests from a CRD Client: ... The CRD Client MAY display to the user that the Coverage Requirements Discovery Service is unavailable.",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,161,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"In the absence of guidance from the CDS Hooks specification, CRD Servers are expected to conform to the following rules when responding to requests from a CRD Client: ... If additional information (e.g. number to call) is available, it MAY also be included in the message to the user.",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,162,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"In the absence of guidance from the CDS Hooks specification, CRD Servers are expected to conform to the following rules when responding to requests from a CRD Client: ... the CRD Server SHALL use the 400 ... codes in a manner consistent with the FHIR RESTful Create Action, specifically: 400 - Bad Request - The request is not parsable as JSON",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,163,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#supported-hooks,"In the absence of guidance from the CDS Hooks specification, CRD Servers are expected to conform to the following rules when responding to requests from a CRD Client: ... the CRD Server SHALL use the ... 422 codes in a manner consistent with the FHIR RESTful Create Action, specifically: ... 422 - Unprocessable Entity - The request is valid JSON, but is not conformant to CDS Hooks, FHIR resources, or required profiles",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,164,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#hook-categories,"CRD Servers SHALL, at minimum, return a [Coverage Information](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-ext-coverage-information.html) system action for these [[Appointment Book](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book), [Orders Sign](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign), and [Order Dispatch](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-dispatch)] hooks, even if the response indicates that further information is needed or that the level of detail provided is insufficient to determine coverage",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,165,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#hook-categories,"These [[Orders Select](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select), [Encounter Start](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start), and [Encounter Discharge](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge)] hooks MAY return cards or system actions, but are not expected to, and CRD clients are free to ignore any cards or actions returned.",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,166,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#hook-categories,(CRD clients SHOULD use the configuration options to instruct CRD servers to not even try to return cards if they do not intend to display/process them.),SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,167,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#hook-categories,"If Coverage Information is returned for these [`secondary` [Orders Select](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select), [Encounter Start](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start), and [Encounter Discharge](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge)] hooks, it SHALL NOT include messages indicating a need for [clinical](https://hl7.org/fhir/us/davinci-crd/STU2/ValueSet-AdditionalDocumentation.html) or [administrative](https://hl7.org/fhir/us/davinci-crd/STU2/ValueSet-AdditionalDocumentation.html) information, as such information is expected to be made available later in the process and therefore such guidance is not useful.",SHALL NOT,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,168,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#hook-categories,"For the sake of interoperability, implementers are expected to adhere to the interface defined in the specified version of each hook,",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,169,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#hook-categories,CRD Servers SHALL handle unrecognized context elements by ignoring them.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,170,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,[Servers SHALL support] version 1.0 of the [[appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/)] hook.,SHALL,Server,"cds-hooks-library_1.0.1@20,24,28,32",,,
hl7.fhir.us.davinci-crd_2.0.1,171,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,[Clients SHALL support] version 1.0 of the [[appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/)] hook.,SHALL,Client,"cds-hooks-library_1.0.1@17-19,21-23,25-27,29-31",,,
hl7.fhir.us.davinci-crd_2.0.1,172,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,"This [appointment-book] hook would be triggered when the user of a CRD Client books a future appointment for a patient with themselves, with someone else within their organization, or with another organization. (Note that whether the CRD Client will create an appointment - triggering the `appointment-book` hook - or a ServiceRequest - triggering an `order-select` or `order-sign` hook - can vary depending on the service being booked and the organizations involved.)",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,173,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,"[In response to an [appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/) hook call, Servers may return] requirements related to the intended location and/or participants (e.g. warnings about out-of-network)",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,174,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,"[In response to an [appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/) hook call, Servers may return] Requirements related to the service being booked (e.g. Is prior authorization needed? Is the service covered? Is the indication appropriate? Is special documentation required?)",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,175,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,"[In response to an [appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/) hook call, Servers may return] Requirements related to the timing of the service (e.g. is the coverage still expected to be in effect? is the service too soon since the last service of that type?)",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,176,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,"[In response to an [appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/) hook call, Servers may return] Reminders about additional services that are recommended to be scheduled or booked for the same patient - either as part of the scheduled encounter or as part of additional appointments that could be created at the same time",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,177,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,[For the appointment-book hook t]he profiles expected to be used for the resources resolved to by the userId … are … [profile-practitioner](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-practitioner.html) [or] [us-core-practitionerrole](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-practitionerrole.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,178,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,[For the appointment-book hook t]he profiles expected to be used for the resources resolved to by the … patientId … are … [profile-patient](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-patient.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,179,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,[For the appointment-book hook t]he profiles expected to be used for the resources resolved to by the … encounterId … are … [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,180,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,<html>[For the appointment-book hook t]he profiles expected to be used for the resources resolved to by the … `appointments` … are …<b> </b>[profile-appointment](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-appointment.html)</html>,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,181,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,"While this [[appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/2023SepSTU1Ballot/appointment-book/)] hook supports userIds of Patient and RelatedPerson, for CRD purposes it is enough to support Practitioner and PractitionerRole. [For the appointment-book hook] support for Patient and RelatedPerson as users is optional [([published v1.0 link](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/))]",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,182,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,CRD Servers MAY use this [[appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/)]  hook as a basis for associating a patient with a particular practitioner from a payer attribution perspective.,MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,183,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,"CRD clients... SHALL, at minimum, support ... processing the [Coverage Information](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-ext-coverage-information.html) system action for all invocations of this [[appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/)]  hook.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,184,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#appointment-book,"CRD servers SHALL, at minimum, support returning ... the [Coverage Information](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-ext-coverage-information.html) system action for all invocations of this [[appointment-book](https://cds-hooks.hl7.org/hooks/appointment-book/STU1/appointment-book/)]  hook.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,185,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,[Servers SHALL support] version 1.0 of the [[encounter-start](https://cds-hooks.hl7.org/hooks/encounter-start/2023SepSTU1Ballot/encounter-start/)] Hook [([published v1.0 link](https://cds-hooks.hl7.org/hooks/encounter-start/STU1/encounter-start/))],SHALL,Server,"cds-hooks-library_1.0.1@36,40,44",,,
hl7.fhir.us.davinci-crd_2.0.1,186,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,[Clients SHALL support] version 1.0 of the [[encounter-start](https://cds-hooks.hl7.org/hooks/encounter-start/2023SepSTU1Ballot/encounter-start/)] Hook [([published v1.0 link](https://cds-hooks.hl7.org/hooks/encounter-start/STU1/encounter-start/))],SHALL,Client,"cds-hooks-library_1.0.1@33-35,37-39,41-43",,,
hl7.fhir.us.davinci-crd_2.0.1,187,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,"This  [[encounter-start](https://cds-hooks.hl7.org/hooks/encounter-start/STU1/encounter-start/)] hook would be triggered when a patient is admitted, a patient arrives for an out-patient visit, and/or when a provider first engages with a patient during an encounter.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,188,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,"The advice returned [by servers] for this [[encounter-start](https://cds-hooks.hl7.org/hooks/encounter-start/STU1/encounter-start)] hook would include the same sorts of advice as provided for using appointment-book [including: ""requirements related to the intended location and/or participants (e.g. warnings about out-of-network)""]",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,189,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,"The advice returned [by servers] for this [[encounter-start](https://cds-hooks.hl7.org/hooks/encounter-start/STU1/encounter-start)] hook would include the same sorts of advice as provided for using appointment-book [including: ""Requirements related to the service being booked (e.g. Is prior authorization needed? Is the service covered? Is the indication appropriate? Is special documentation required?)""]",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,190,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,"The advice returned [by servers] for this [[encounter-start](https://cds-hooks.hl7.org/hooks/encounter-start/STU1/encounter-start)] hook would include the same sorts of advice as provided for using appointment-book [including: ""Requirements related to the timing of the service (e.g. is the coverage still expected to be in effect? is the service too soon since the last service of that type?)""]",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,191,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,"The advice returned [by servers] for this [[encounter-start](https://cds-hooks.hl7.org/hooks/encounter-start/STU1/encounter-start)] hook would include the same sorts of advice as provided for using appointment-book [including: ""Reminders about additional services that are recommended to be scheduled or booked for the same patient - either as part of the scheduled encounter or as part of additional appointments that could be created at the same time""]",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,192,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,[For the enounter-start hook t]he profiles expected to be used for the resources resolved to by the userId … are … [profile-practitioner](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-practitioner.html) [or] [us-core-practitionerrole](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-practitionerrole.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,193,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,[For the enounter-start hook t]he profiles expected to be used for the resources resolved to by the … patientId … are … [profile-patient](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-patient.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,194,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,[For the enounter-start hook t]he profiles expected to be used for the resources resolved to by the … encounterId … are … [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,195,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-start,CRD Servers MAY use this [[encounter-start](https://cds-hooks.hl7.org/hooks/encounter-start/STU1/encounter-start)] hook as a basis for associating a patient with a particular practitioner from a payer attribution perspective.,MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,196,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,[Servers SHALL support] version 1.0 of the [[encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/2023SepSTU1Ballot/encounter-discharge/)] Hook [([published v1.0 link](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/))],SHALL,Server,"cds-hooks-library_1.0.1@48,52,56",,,
hl7.fhir.us.davinci-crd_2.0.1,197,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,[Clients SHALL support] version 1.0 of the [[encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/2023SepSTU1Ballot/encounter-discharge/)] Hook  [([published v1.0 link](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/))],SHALL,Client,"cds-hooks-library_1.0.1@45-47,49-51,53-55",,,
hl7.fhir.us.davinci-crd_2.0.1,198,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,This  [[encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/)] hook would generally be specific to an in-patient encounter and would fire when a provider is performing the discharge process within the CRD Client.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,199,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,"[In response to an [encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/) hook call, [clients should v]erify that documentation requirements for the services performed have been met to ensure the services provided can be reimbursed",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,200,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,"[In response to an [encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/) hook call, [clients should e]nsure that required follow-up planning is complete and appropriate transfer of care has been arranged, particularly for accountable care models",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,201,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,[for the [encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/) hook t]he profiles expected to be used for the resources resolved to by the userId … are … [profile-practitioner](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-practitioner.html) [or] [us-core-practitionerrole](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-practitionerrole.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,202,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,[for the [encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/) hook t]he profiles expected to be used for the resources resolved to by the … patientId … are … [profile-patient](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-patient.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,203,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#encounter-discharge,[for the [encounter-discharge](https://cds-hooks.hl7.org/hooks/encounter-discharge/STU1/encounter-discharge/) hook t]he profiles expected to be used for the resources resolved to by the … encounterId … are … [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,204,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-dispatch,[Servers SHALL support] version 1.0 of the [[order-dispatch](https://cds-hooks.hl7.org/hooks/order-dispatch/2023SepSTU1Ballot/order-dispatch/)] Hook   [([published v1.0 link](https://cds-hooks.hl7.org/hooks/order-dispatch/STU1/order-dispatch/))],SHALL,Server,"cds-hooks-library_1.0.1@60,64,68,73",,,
hl7.fhir.us.davinci-crd_2.0.1,205,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-dispatch,[Clients SHALL support] version 1.0 of the [[order-dispatch](https://cds-hooks.hl7.org/hooks/order-dispatch/2023SepSTU1Ballot/order-dispatch/)] Hook   [([published v1.0 link](https://cds-hooks.hl7.org/hooks/order-dispatch/STU1/order-dispatch/))],SHALL,Client,"cds-hooks-library_1.0.1@57-59,61-63,65-67,69-72",,,
hl7.fhir.us.davinci-crd_2.0.1,206,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-dispatch,CRD Servers MAY use this [[order-dispatch](https://cds-hooks.hl7.org/hooks/order-dispatch/STU1/order-dispatch/)] hook as a basis for associating a patient with a particular practitioner from a payer attribution perspective.,MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,207,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-dispatch,"CRD clients and servers SHALL, at minimum, support returning and processing the [Coverage Information](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-ext-coverage-information.html) system action for all invocations of this [[order-dispatch](order-dispatch](https://cds-hooks.hl7.org/hooks/order-dispatch/STU1/order-dispatch/)] hook",SHALL,"Client, Server",,,,
hl7.fhir.us.davinci-crd_2.0.1,208,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,[Servers SHALL support] version 1.0 of the [[order-select](https://cds-hooks.hl7.org/hooks/order-select/2023SepSTU1Ballot/order-select/)] Hook  [([published v1.0 link](https://cds-hooks.hl7.org/hooks/order-select.html))],SHALL,Server,"cds-hooks-library_1.0.1@77,81,85,89,93",,,
hl7.fhir.us.davinci-crd_2.0.1,209,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,[Clients SHALL support] version 1.0 of the [[order-select](https://cds-hooks.hl7.org/hooks/order-select/2023SepSTU1Ballot/order-select/)] Hook [([published v1.0 link](https://cds-hooks.hl7.org/hooks/order-select.html))],SHALL,Client,"cds-hooks-library_1.0.1@74-76,78-80,82-84,86-88,90-92",,,
hl7.fhir.us.davinci-crd_2.0.1,210,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,Coverage requirements [returned from the [order-select hook](https://cds-hooks.hl7.org/hooks/order-select.html)] SHOULD be limited only to those resources that are included in the `selections` context,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,211,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,the content of other [resources that are not included in the `selections` context] resources  [[for the order-select hook](https://cds-hooks.hl7.org/hooks/order-select.html)] SHOULD also be considered before making recommendations about what additional actions are necessary. (I.e. don’t recommend an action if there’s already a draft order to perform that action.),SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,212,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,[For the [order-select](https://cds-hooks.hl7.org/hooks/order-select.html) hook] the profiles expected to be used for the resources resolved to by the `patientId` [are] [profile-patient](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-patient.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,213,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,[For the [order-select](https://cds-hooks.hl7.org/hooks/order-select.html) hook] the profiles expected to be used for the resources resolved to by the … `encounterId` [are] [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,214,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,"[for the [order-select](https://cds-hooks.hl7.org/hooks/order-select.html) hook] The profiles expected to be used for the resources resolved to by the ... `draftOrders` context element [are] [profile-devicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-devicerequest.html), [profile-medicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-medicationrequest.html), [profile-nutritionorder](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-nutritionorder.html), [profile-visionprescription](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-visionprescription.html), [and] [profile-servicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-servicerequest.html)",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,215,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,"While this [order-select](https://cds-hooks.hl7.org/hooks/order-select.html)] hook does not explicitly list PractitionerRole [([us-core-practitionerrole](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-practitionerrole.html)) in addition to  [profile-practitioner](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-practitioner.html)] as an expected resource type for userId, it is not prohibited and is included to allow linking the user to a Practitioner in a specific role acting on behalf of a specific Organization.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,216,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select,This [[order-select](https://cds-hooks.hl7.org/hooks/order-select.html)] hook MAY be used in scenarios that don’t involve creating a true order,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,217,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,[Servers SHALL support] version 1.1 of the [[order-sign](https://cds-hooks.org/hooks/order-sign/2020May/order-sign)] Hook [([published v1.0 link (v1.1.0 in the change log)](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html))],SHALL,Server,"cds-hooks-library_1.0.1@4,8,12,16",,,
hl7.fhir.us.davinci-crd_2.0.1,218,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,[Clients SHALL support] version 1.1 of the [[order-sign](https://cds-hooks.org/hooks/order-sign/2020May/order-sign)] Hook [([published v1.0 link (v1.1.0 in the change log)](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html))],SHALL,Client,"cds-hooks-library_1.0.1@1-3,5-7,9-11,13-15",,,
hl7.fhir.us.davinci-crd_2.0.1,219,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,[[For the order-sign hook](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)] It’s appropriate to provide warnings if there is insufficient information to determine coverage requirements.,MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,220,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,Use and profiles for [order-select](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select) also apply to `order-sign` [([link](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)) including: the profiles expected to be used for the resources resolved to by the `patientId`are [profile-patient](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-patient.html)],SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,221,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,Use and profiles for [order-select](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select) also apply to `order-sign` [([link](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)) including: the profiles expected to be used for the resources resolved to by the … `encounterId` are [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html)],SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,222,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,"Use and profiles for [order-select](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select) also apply to `order-sign` [([link](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)) including: The profiles expected to be used for the resources resolved to by the ... `draftOrders` context element [are] [profile-devicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-devicerequest.html), [profile-medicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-medicationrequest.html), [profile-nutritionorder](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-nutritionorder.html), [profile-visionprescription](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-visionprescription.html),  [profile-servicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-servicerequest.html)]",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,223,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,"Use and profiles for [order-select](https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-select) also apply to `order-sign` [([link](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)) including: while this hook does not explicitly list PractitionerRole [([us-core-practitionerrole](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-practitionerrole.html)) in addition to  [profile-practitioner](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-practitioner.html)] as an expected resource type for userId, it is not prohibited and is included to allow linking the user to a Practitioner in a specific role acting on behalf of a specific Organization.]",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,224,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,CRD Servers MAY use this [[order-sign hook](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)] hook as a basis for associating a patient with a particular practitioner from a payer attribution perspective.,MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,225,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,"CRD clients ... SHALL, at minimum, support … processing the Coverage Information system action for all invocations of this [[order-sign hook](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)] hook.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,226,https://hl7.org/fhir/us/davinci-crd/STU2/hooks.html#order-sign,"CRD... servers SHALL, at minimum, support returning ... the Coverage Information system action for all invocations of this [[order-sign hook](https://cds-hooks.hl7.org/hooks/STU1/order-sign.html)] hook.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,227,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,"The `Card.indicator` SHOULD be populated from the perspective of the clinical decision maker, not the payer.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,228,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,Most Coverage Requirements SHOULD be marked as ‘info’.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,229,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,"While failure to procure a prior authorization might be ‘critical’ from the perspective of payment, it would be - at best - a ‘warning’ from the perspective of clinical care. ‘critical’ must be reserved for reporting life or death or serious clinical outcomes. Issues where the proposed course of action will negatively affect the ability of the payer or patient to be reimbursed would generally be a ‘warning’",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,230,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,"The `Card.source.label` SHOULD be populated with an insurer name that the user and patient would recognize (i.e. the responsible insurer on the patient’s insurance card), including in situations where coverage recommendations are being returned by a benefits manager or intermediary operating the CRD Server on behalf of the payer.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,231,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,"If an insurer is providing recommendations from another authority (e.g. a clinical society), the society’s name and logo might be displayed, though usually only with the permission of that organization.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,232,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,"`Card.source.topic` SHALL be populated, and has an [extensible](http://www.hl7.org/fhir/terminologies.html#extensible)  binding to the ValueSet [CRD Card Types](https://hl7.org/fhir/us/davinci-crd/STU2/ValueSet-cardType.html).",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,233,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,`Card.summary` SHOULD provide actionable information. “Coverage alert” would not be very helpful. “Drug not covered. Covered alternatives available” or “Prior authorization required” would be better.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,234,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,`Card.detail` and/or external links SHOULD only be provided when coverage recommendations can’t be clearly provided in the 140-character limit of `Card.summary`.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,235,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,"`Card.detail` SHOULD provide graduated information, with critical information being provided in the first paragraph and less critical information towards the end of the page.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,236,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,`card.detail` SHOULD provide enough context that a user can determine whether it is worth the precious seconds to launch an app or external link or not - ideally providing a sense of where to look for and how to use whatever link or app they do launch in the specific context of the order they’re making at the time.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,237,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,"Keep the number of cards manageable. Consider whether user workflow will be faster with separate cards for each link or a single card having multiple links. Typically, using the smallest number of cards that still support descriptive actionable summaries is best.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,238,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,"When providing links, don’t send the user to the first page of an 80+ page PDF. Keep document size short and/or provide linking directly to the section that is relevant for the context.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,239,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,"While links are permitted in the markdown content of `Card.detail`, support for this is not universal, so links SHOULD also be provided in `Card.link`.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,240,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,card options SHOULD provide sufficient information for a user to perform record changes manually if automated support isn’t possible.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,241,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,"Where [systemActions](https://cds-hooks.hl7.org/2.0/#system-action) are used, CRD Servers SHOULD NOT return equivalent information in a card for user display.",SHOULD NOT,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,242,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#cards-profiles,It is the responsibility of the CRD Client to determine how best to present the results of the newly created or revised records.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,243,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"conformant CRD Clients SHALL support the [External Reference](https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#external-reference), … response",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,244,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"conformant CRD Clients SHALL support the ... [Instructions](https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#instructions), … response",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,245,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,conformant CRD Clients SHALL support the... [Coverage Information](https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information) response,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,246,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,conformant CRD Clients... SHOULD support the remaining types [of [Responses](https://cds-hooks.hl7.org/2.0/#cds-service-response)].,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,247,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"CRD Servers SHALL, at minimum, demonstrate an ability to return cards with the following type: [Coverage](https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information)... card types",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,248,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"CRD Servers SHALL, at minimum, demonstrate an ability to return cards with the following type: ... [External Reference](https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#external-reference) ... card types",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,249,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"CRD Servers SHALL, at minimum, demonstrate an ability to return cards with the following type: ... [Instructions](https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#instructions) card types",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,250,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,Provision of ... decision support cards outside the coverage and documentation requirements space is optional (for both server and client).,MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,251,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,[A]cceptance of decision support cards outside the coverage and documentation requirements space is optional (for both server and client).,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,252,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,CRD Servers that provide decision support for non-coverage/documentation areas SHALL check that the CRD client does not have the information within its store that would allow it to detect the issue itself.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,253,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"[for non-coverage/documentation areas] If the information already exists in the CRD client, then the obligation is on the CRD Client to manage the issue detection and reporting in its own manner and CRD Servers should not get involved.",SHOULD NOT,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,254,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"In this case, [where the CRD Client provide resources, such as MedicationRequest, in the CDS Hook request context object] the CDS Client must maintain a stable identifier for these temporary resources to allow CRD responses to refer to them in CDS Hook Actions.",DEPRECATED,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,255,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"When a Coverage Information card type indicating that additional clinical documentation is needed and the CRD client supports DTR, CRD Clients SHALL ensure that clinical users have an opportunity to launch the DTR app as part of the current workflow.",SHALL,Client,,true,,
hl7.fhir.us.davinci-crd_2.0.1,256,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"Where a Coverage Information indicates that additional administrative documentation is needed, CRD Clients SHOULD allow clinical users to have an opportunity to launch the DTR app",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,257,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#potential-crd-response-types,"Where a Coverage Information indicates that additional administrative documentation is needed, CRD Clients ... SHOULD make it clear that the information to be captured is non-clinical.",SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,258,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#external-reference,"Card with one or more links to external web pages, PDFs, or other resources that provide relevant coverage information ... SHALL have at least one `Card.link`.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,259,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#external-reference,[For External Reference cards with `Card.link` t]he `Link.type` SHALL have a type of “absolute”.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,260,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#external-reference,"[A]n “External Reference” card [Card with one or more links to external web pages, PDFs, or other resources] SHOULD contain a summary of the actionable information from the external reference.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,261,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#external-reference,"[L]inks provided [in cards with one or more links to external web pages, PDFs, or other resources] SHOULD be ‘deep’ links that take the user to the specific place in the documentation relevant to the current hook context to minimize provider reading and navigation time.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,262,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,[For the coverage information response type] qualifiers around when the coverage assertion is considered valid SHALL be included as part of the annotation,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,263,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"If a CRD client submits a claim related to an order for which it has received a coverage-information extension for the coverage type associated with the claim, that claim SHALL include the `coverage-assertion-id` and, if applicable, the `satisfied-pa-id` in the X12 837 K3 segment.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,264,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"If multiple extension repetitions are present, all repetitions referencing differing insurance (coverage-information.coverage) SHALL have distinct coverage-assertion-ids and satisfied-pa-ids (if present).",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,265,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"Where multiple repetions apply to the same coverage, they *SHALL have the same coverage-assertion-ids and satisfied-pa-ids (if present).",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,266,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,Systems MAY fire calls related to orders even if there is already a coverage assertion recorded on the order.,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,267,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,[For the coverage information response type] payers SHALL NOT send a system action to update the order [when coverage details have been returned previously] unless something is new.,SHALL NOT,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,268,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,Payers SHOULD take into account the previous decision in deciding how much processing is necessary before returning a response,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,269,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"If a coverage-information extension indicates the need to collect additional information (via ‘info-needed’), the extension SHOULD include a reference to the Questionnaire(s) to be completed.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,270,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"If the payer does not support DTR for the type of information needed, the CRD service MAY provide a ‘link’ or ‘information’ card pointing to the forms or portal to use to capture the additional information",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,271,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,[Where the CRD service provides a ‘link’ or ‘information’ card] The link SHOULD NOT require user authentication (i.e. no log-on needed) when accessing downloadable forms.,SHOULD NOT,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,272,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"When using this [coverage information] response type, the proposed ...  appointment being updated SHALL comply with the ... [profile-appointment](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-appointment.html) [profile]",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,273,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"When using this [coverage information] response type, the proposed [device] order ... being updated SHALL comply with the ... [profile-devicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-devicerequest.html) [profile]",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,274,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"When using this [coverage information] response type, the proposed [medication]  order ...  being updated SHALL comply with the ... [profile-medicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-medicationrequest.html) [profile]",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,275,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"When using this [coverage information] response type, the proposed [nutrition] order ... being updated SHALL comply with the ... [profile-nutritionorder](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-nutritionorder.html) [profile]",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,276,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"When using this [coverage information] response type, the proposed [service] order … being updated SHALL comply with the ... [profile-servicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-servicerequest.html) [profile]",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,277,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"When using this [coverage information] response type, the proposed [vision] order … being updated SHALL comply with the ... [profile-visionprescription](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-visionprescription.html) [profile]",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,278,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"CRD clients... SHALL support the new CDS Hooks system action functionality to cause annotations to automatically be stored on the relevant request, appointment, etc. without any user intervention.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,279,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"CRD ... services SHALL support the new CDS Hooks system action functionality to cause annotations to automatically be stored on the relevant request, appointment, etc. without any user intervention.",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,280,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,"In this case, [Where CRD clients and services  support the new CDS Hooks system action functionality to cause annotations to automatically be stored on the relevant request, appointment, etc.] the discrete information propagated into the order extension SHALL be available to the user for viewing",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,281,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#coverage-information,CRD clients MAY be configured to not execute system actions under some circumstances - e.g. if the order has been cancelled/abandoned.,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,282,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,[for the Propose Alternate Request response type] Each suggestion SHOULD contain either a single “update” action to revise the existing proposed order; or a “delete” action for the current proposed order and a “create” action for the new proposed order,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,283,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,The choice of “update” vs. “delete + create” SHOULD be based on how significant the change is and how relevant other decision support on the original request will still be,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,284,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed orders (and any associated resources) SHALL comply with the [profile-device](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-device.html) profile",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,285,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [device] orders (and any associated resources) SHALL comply with the [profile-devicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-devicerequest.html)  profile",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,286,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [encounter] orders (and any associated resources) SHALL comply with the [profile-encounter](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-encounter.html) profile",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,287,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [medication] orders (and any associated resources) SHALL comply with the [profile-medicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-medicationrequest.html) profile [and referenced Medications SHALL comply with the [us-core-medication](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-medication.html) profile.]",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,288,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [nutrition] orders (and any associated resources) SHALL comply with the [profile-nutritionorder](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-nutritionorder.html)  profile",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,289,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [service] orders (and any associated resources) SHALL comply with the [profile-servicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-servicerequest.html)  profile",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,290,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#propose-alternate-request,"When using this [Propose alternate request] response type, the proposed [vision] orders (and any associated resources) SHALL comply with the [profile-visionprescription](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-visionprescription.html) profile",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,291,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#identify-additional-orders-as-companionsprerequisites-for-current-order,"When using this [Identify additional orders as companions/prerequisites for current order] response type, the proposed [communication] orders (and any associated resources) SHALL comply with the [profile-communicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-communicationrequest.html) profile",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,292,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#identify-additional-orders-as-companionsprerequisites-for-current-order,"When using this [Identify additional orders as companions/prerequisites for current order] response type, the proposed orders (and any associated resources) SHALL comply with the [profile-devicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-devicerequest.html)  profile [and referenced devices SHALL comply with the [profile-device](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-device.html) profile]",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,293,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#identify-additional-orders-as-companionsprerequisites-for-current-order,"When using this [Identify additional orders as companions/prerequisites for current order] response type, the proposed orders (and any associated resources) SHALL comply with the [profile-medicationrequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-medicationrequest.html) profile [and referenced medications SHALL comply with the [us-core-medication](http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-medication.html) profile]",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,294,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#identify-additional-orders-as-companionsprerequisites-for-current-order,"When using this [Identify additional orders as companions/prerequisites for current order] response type, the proposed [service] orders (and any associated resources) SHALL comply with the [profile-servicerequest](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-servicerequest.html)  profile",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,295,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#identify-additional-orders-as-companionsprerequisites-for-current-order,"When using this [Identify additional orders as companions/prerequisites for current order] response type, the proposed [vision] orders (and any associated resources) SHALL comply with the [profile-visionprescription](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-visionprescription.html) profile",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,296,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#request-form-completion,"Instead of using a card, [for the Request form completion response type] CRD services MAY opt to use a [systemAction](https://cds-hooks.hl7.org/2.0/#system-action) instead",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,297,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#request-form-completion,CRD clients supporting this [Request form completion] card type  SHALL support either approach [Card or systemAction],SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,298,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#request-form-completion,This [Request form completion] card type SHOULD only be used when DTR is not available or applicable,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,299,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#request-form-completion,"When using this [Request form completion] response type, the proposed orders (and any associated resources) SHALL comply with the [profile-taskquestionaire](https://hl7.org/fhir/us/davinci-crd/STU2/StructureDefinition-profile-taskquestionnaire.html) profile",SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,300,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#request-form-completion,[for the Request form completion response type] CRD Servers SHOULD use questionnaires that are compliant with either the [Argonaut Questionnaire profiles](https://github.com/argonautproject/questionnaire) (for forms to be completed within the CRD client) or the [Structured Data Capture profiles](http://hl7.org/fhir/uv/sdc/index.html) (for more sophisticated forms to be created within a SMART on FHIR app or through an external service).,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,301,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#request-form-completion,[for the Request form completion response type] CRD Clients SHOULD retain a copy of all completed forms for future reference.,SHOULD,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,302,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#create-or-update-coverage-information,"Instead of using a card, [for the Create or update coverage information response type] CRD services MAY opt to use a [systemAction](https://cds-hooks.hl7.org/2.0/#system-action) instead",MAY,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,303,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#create-or-update-coverage-information,CRD clients supporting this [Create or update coverage information] card type  SHALL support either approach [Card or systemAction],SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,304,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#create-or-update-coverage-information,"[for the Create or update coverage information response type] If receiving a system action, a CRD client MAY opt to place the new or updated record in a holding area for human review rather than directly modifying their source of truth.",MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,305,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#create-or-update-coverage-information,This [Create or update coverage information] CRD capability SHALL NOT be used in situations where regulation dictates the use of the X12 functionality.,SHALL NOT,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,306,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#create-or-update-coverage-information,This [Create or update coverage information] response will contain a single suggestion. The primary action will either be a suggestion to “update” an existing Coverage instance (if the CRD Client already has one) or to “create” a new Coverage instance if the CRD Server is aware of Coverage that the CRD Client is not.,SHALL,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,307,https://hl7.org/fhir/us/davinci-crd/STU2/cards.html#launch-smart-application,This [Launch SMART application] response type can cause the launching of ... [SMART] apps to occur in the context in which they are relevant to patient care and/or to payment-related decision-making,MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,308,https://hl7.org/fhir/us/davinci-crd/STU2/implementation.html#suppressing-guidance,"Clients that [suppress certain types of payer guidance as being the ‘default’ presumption. E.g. “Covered, no prior authorization required”] … SHALL mitigate this potential for misinterpretation.",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,309,https://hl7.org/fhir/us/davinci-crd/STU2/implementation.html#impact-on-payer-processes,CRD Servers will need to support … clinical terminologies [passed to the CRD server by the client]  or map them to internally used billing terminologies when determining decision support results - such as whether a therapy is covered or requires prior authorization.,SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,310,https://hl7.org/fhir/us/davinci-crd/STU2/implementation.html#impact-on-payer-processes,"Services will also need to consider that the mapping they perform between clinical terminologies and billing codes may be different than the bill coding process performed by the client system when claims are eventually submitted. This may mean that assertions about coverage or prior authorization requirements will need to be expressed conditionally. E.g. “Provided this service is billed as X, Y or Z, then prior authorization is not needed”.",SHOULD,Server,,,,
hl7.fhir.us.davinci-crd_2.0.1,311,https://hl7.org/fhir/us/davinci-crd/STU2/implementation.html#impact-on-payer-processes,"In situations where CRD Clients are aware of the likely billing codes at the time of ordering, they MAY send these codes as additional CodeableConcept.coding repetitions to assist in server processing.",MAY,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,312,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,the CRD Client SHALL support all ‘SHOULD’ ‘read’ and ‘search’ capabilities listed below for resources referenced in supported hooks and order types if it does not support returning the associated resources as part of CDS Hooks pre-fetch.,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,313,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html#mode1,Implementations SHALL meet the general security requirements documented in the [HRex implementation guide](http://hl7.org/fhir/us/davinci-hrex/STU1/security.html),SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,314,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,[CRD Clients SHALL also implement the US Core Server Capability Statement imported by this CapabilityStatement],SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,315,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,The CRD Client SHALL also support ‘update’ functionality for [the Appointment resource type when] the client allows invoking [the appointment-book hook].,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,316,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,The CRD Client SHALL also support ‘update’ functionality for [the Encounter resource type when] the client allows invoking [the encounter-start or encounter-discharge hook].,SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,317,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the CommunicationRequest resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,318,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the DeviceRequest resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,319,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the MedicationRequest resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,320,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the NutritionOrder resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,321,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the ServiceRequest resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,
hl7.fhir.us.davinci-crd_2.0.1,322,https://hl7.org/fhir/us/davinci-crd/STU2/CapabilityStatement-crd-client.html,"The CRD Client SHALL also support ‘update’ functionality for [the VisionPrescription resource type when] the client allows invoking [the order-dispatch, order-select, or order-sign hook].",SHALL,Client,,,,
